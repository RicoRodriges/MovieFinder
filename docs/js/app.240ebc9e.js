(function(e){function t(t){for(var r,s,o=t[0],c=t[1],u=t[2],p=0,v=[];p<o.length;p++)s=o[p],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&v.push(a[s][0]),a[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(v.length)v.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},a={app:0},i=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"015a":function(e,t,n){},"034f":function(e,t,n){"use strict";n("85ec")},"071f":function(e,t,n){e.exports=n.p+"img/no-movie.1032a868.svg"},"133b":function(e,t,n){e.exports=n.p+"img/sort.1a678f3c.svg"},"22e2":function(e,t,n){},"3f8a":function(e,t,n){},"42a8":function(e,t,n){e.exports=n.p+"img/star.131946e7.svg"},"44ee":function(e,t,n){},"515c":function(e,t,n){},"5dd6":function(e,t,n){"use strict";n("22e2")},"5ee4":function(e,t,n){e.exports=n.p+"img/filter.f25396f2.svg"},"620c":function(e,t,n){"use strict";n("3f8a")},"66d9":function(e,t,n){e.exports=n.p+"img/ru.ca1867fc.svg"},"7b8b":function(e,t,n){"use strict";n("44ee")},"7c96":function(e,t,n){e.exports=n.p+"img/star-checked.ed62f3d2.svg"},"7cb9":function(e,t,n){},"804a":function(e,t,n){"use strict";n("9837")},"85ec":function(e,t,n){},"8e8a":function(e,t,n){},9292:function(e,t,n){"use strict";n("9cf2")},9837:function(e,t,n){},"9cf2":function(e,t,n){},a2eb:function(e,t,n){"use strict";n("015a")},a6a3:function(e,t,n){"use strict";n("cebe")},bc04:function(e,t,n){e.exports=n.p+"img/en.fddefaae.svg"},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r,a=n("2b0e"),i=n("b85c"),s=(n("7db0"),n("2ca0"),n("b64b"),n("a925"));(function(e){e["EN"]="en",e["RU"]="ru"})(r||(r={}));var o=n("3835"),c=n("5530");n("99af"),n("4fad"),n("ac1f"),n("466d"),n("4d63"),n("25f0"),n("5319");function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n=Object(c["a"])({path:"/"},n),n.expires&&n.expires.toUTCString&&(n.expires=n.expires.toUTCString());for(var r="".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t)),a=0,i=Object.entries(n);a<i.length;a++){var s=Object(o["a"])(i[a],2),u=s[0],l=s[1];r+="; ".concat(u),!0!==l&&(r+="=".concat(l))}document.cookie=r}function l(e){var t=document.cookie.match(new RegExp("(?:^|; )".concat(e.replace(/([.$?*|{}()[\]\\/+^])/g,"\\$1"),"=([^;]*)")));return t?decodeURIComponent(t[1]):void 0}var p,v=n("ade3"),d=(p={},Object(v["a"])(p,r.EN,{lang:"English",siteName:"Movie finder",message:{cache_warning:"This site does not store user data.<br/>Actor and movie sets are not synchronized with other devices and will be irrevocably lost after web page refreshing!"},actor:{placeholder:"Input actor name",emptyPlaceholder:"Start writing actor name",notFoundPlaceholder:"Actors were not found",nActors:"0 actor | 1 actor | {n} actors | {n} actors",actorName:"Actor name",selectedNActors:"Selected 0 actor | Selected 1 actor | Selected {n} actors | Selected {n} actors",clearList:"Remove all actors",appendToList:"Append from actor set",appendToSet:"Append to actor set"},movie:{placeholder:"Input movie name",emptyPlaceholder:"Start writing movie name",notFoundPlaceholder:"Movies were not found",genres:"Genres",movieName:"Movie name",selectedNMovies:"Selected 0 movie | Selected 1 movie | Selected {n} movies | Selected {n} movies",trailer:"trailer",findTrailer:"Find trailer",clearList:"Remove all movies",appendToList:"Append from movie set",appendToSet:"Append to movie set",showAll:"Show all movies",excludeMovies:"Exclude movies in set"},paginator:{previous:"Previous",next:"Next"},filter:{filters:"Filters",chooseGenresToExclude:"Choose genres to exclude",year:"Year:",validYearRange:"Valid year range is {min} - {max}",sort:"Sorting",sortBy:"Sort by"},general:{popularity:"Popularity",vote:"Vote",chooseOptions:"Choose options...",year:"Year",showDetails:"Show details...",andOthers:"and others",nTimes:"0 time | 1 time | {n} times | {n} times",recommended:"Recommended",loading:"Loading...",startSearch:"Start search"},set:{import:"Import from file",export:"Export to file",add:"Add to set",remove:"Remove from set"},pages:{movieSet:"Movie set",actorSet:"Actor set",searchByActors:"Search by actors",searchByMovies:"Search by movies"}}),Object(v["a"])(p,r.RU,{lang:"Русский",siteName:"Поисковик фильмов",message:{cache_warning:"Сайт не хранит пользовательские данные.<br/>Коллекции не синхронизируется с другими устройствами и будут безвозвратно утерян после обновления страницы!"},actor:{placeholder:"Введите имя актёра",emptyPlaceholder:"Начните вводить имя актёра",notFoundPlaceholder:"Актёры не найдены",nActors:"0 актёров | 1 актёр | {n} актёра | {n} актёров",actorName:"Имя актёра",selectedNActors:"Выбрано 0 актёров | Выбран 1 актёр | Выбрано {n} актёра | Выбрано {n} актёров",clearList:"Очистить список актёров",appendToList:"Добавить из коллекции",appendToSet:"Добавить в коллекцию"},movie:{placeholder:"Введите название фильма",emptyPlaceholder:"Начните вводить название фильма",notFoundPlaceholder:"Фильмы не найдены",genres:"Жанры",movieName:"Название фильма",selectedNMovies:"Выбрано 0 фильмов | Выбран 1 фильм | Выбрано {n} фильма | Выбрано {n} фильмов",trailer:"трейлер",findTrailer:"Найти трейлер",clearList:"Очистить список фильмов",appendToList:"Добавить из коллекции",appendToSet:"Добавить в коллекцию",showAll:"Показать все фильмы",excludeMovies:"Исключить фильмы в коллекции"},paginator:{previous:"Предыдущая",next:"Следующая"},filter:{filters:"Фильтры",chooseGenresToExclude:"Выберите жанры для исключения",year:"Год:",validYearRange:"Валидный промежуток {min} - {max} лет",sort:"Сортировка",sortBy:"Сортировать по"},general:{popularity:"Популярность",vote:"Рейтинг",chooseOptions:"Выберите поле...",year:"Год",showDetails:"Подробнее...",andOthers:"и другие",nTimes:"0 раз | 1 раз | {n} раза | {n} раз",recommended:"Рекомендован",selected:"Выбрано",loading:"Загрузка...",startSearch:"Начать поиск"},set:{import:"Загрузить из файла",export:"Выгрузить в файл",add:"Добавить в коллекцию",remove:"Удалить из коллекции"},pages:{movieSet:"Коллекция фильмов",actorSet:"Коллекция актёров",searchByActors:"Поиск по актёрам",searchByMovies:"Поиск по фильмам"}}),p);function h(e,t){return e.find((function(e){return t.startsWith(e)}))}s["a"].prototype.getChoiceIndex=function(e,t){switch(this.locale){case r.RU:if(0===e)return 0;var n=e>10&&e<20,a=e%10===1;return!n&&a?1:!n&&e%10>=2&&e%10<=4||t<4?2:3;default:return e>=2?2:1===e?1:0}};var f="lang";function m(){var e,t=Object.keys(d),n=l(f);if(n&&(e=h(t,n)),void 0===e)if(window.navigator.languages){var a,s=Object(i["a"])(window.navigator.languages);try{for(s.s();!(a=s.n()).done;){var o=a.value,c=h(t,o);if(c){e=c;break}}}catch(p){s.e(p)}finally{s.f()}}else{var u=h(t,window.navigator.userLanguage||window.navigator.language);u&&(e=u)}return void 0===e?r.EN:e}function g(e,t){u(f,e,{"max-age":2592e3}),t.locale=e}a["a"].use(s["a"]);var b=new s["a"]({locale:m(),fallbackLocale:r.EN,messages:d}),y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("NavBar",{attrs:{siteName:e.siteName,"current-page":e.currentPage.name,pages:e.pages.map((function(e){return e.name}))},on:{onChange:e.navigate}}),n("div",{staticClass:"m-1",attrs:{role:"main"}},[n("keep-alive",[n(e.currentPage.component,{tag:"component"})],1)],1)],1)},O=[],j=n("d4ec"),k=n("bee2"),_=n("262e"),x=n("2caf"),w=(n("b0c0"),n("9ab4")),S=n("1b40"),C=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-dark"},[r("a",{staticClass:"navbar-brand",attrs:{href:"/"}},[e._v(e._s(e.$t(e.siteName)))]),r("button",{staticClass:"navbar-toggler",attrs:{type:"button"},on:{click:function(t){e.showMenu=!e.showMenu}}},[r("span",{staticClass:"navbar-toggler-icon"})]),r("div",{staticClass:"collapse navbar-collapse",class:{show:e.showMenu}},[r("ul",{staticClass:"navbar-nav mr-auto"},e._l(e.pages,(function(t){return r("li",{key:t,staticClass:"nav-item mr-2",class:{active:t===e.currentPage}},[r("a",{staticClass:"nav-link",class:{disabled:t===e.currentPage},attrs:{href:"#"},on:{click:function(n){return n.preventDefault(),e.onChange(t)}}},[e._v(" "+e._s(e.$t(t))+" ")])])})),0),r("div",{staticClass:"d-inline-block"},[r("img",{staticClass:"flag mx-2",attrs:{src:n("bc04"),alt:"en",title:"English"},on:{click:function(t){return e.changeLocale("en")}}}),r("img",{staticClass:"flag mx-2",attrs:{src:n("66d9"),alt:"ru",title:"Русский"},on:{click:function(t){return e.changeLocale("ru")}}})])])])},R=[],M=n("91dc"),P=n("2f62");a["a"].use(P["a"]);var A=new P["a"].Store({}),$=Object(M["createModule"])("general",{state:{lang:b.locale},mutations:{changeLocale:function(e,t){g(t,b),e.lang=t}}});$.register(A);var T=function(e){Object(_["a"])(n,e);var t=Object(x["a"])(n);function n(){var e;return Object(j["a"])(this,n),e=t.apply(this,arguments),e.showMenu=!1,e}return Object(k["a"])(n,[{key:"onChange",value:function(e){}},{key:"changeLocale",value:function(e){$.mutations.changeLocale(e)}}]),n}(S["d"]);Object(w["a"])([Object(S["c"])()],T.prototype,"siteName",void 0),Object(w["a"])([Object(S["c"])()],T.prototype,"pages",void 0),Object(w["a"])([Object(S["c"])()],T.prototype,"currentPage",void 0),Object(w["a"])([Object(S["b"])("onChange")],T.prototype,"onChange",null),T=Object(w["a"])([S["a"]],T);var F=T,D=F,L=(n("f702"),n("2877")),E=Object(L["a"])(D,C,R,!1,null,"c88040f2",null),N=E.exports,U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"alert alert-secondary my-3 mx-2",domProps:{innerHTML:e._s(e.$t("message.cache_warning"))}}),n("ActorSelector",{attrs:{setActions:!1},model:{value:e.selectedActors,callback:function(t){e.selectedActors=t},expression:"selectedActors"}}),n("div",{staticClass:"my-3 text-center"},[e.inProgress?e._e():n("button",{staticClass:"btn btn-success mt-3 mb-1 d-inline-block",attrs:{type:"button"},on:{click:e.onImport}},[e._v(" "+e._s(e.$t("set.import"))+" ")]),n("br"),!e.inProgress&&e.selectedActors.length>0?n("button",{staticClass:"btn btn-success mb-3 d-inline-block",attrs:{type:"button"},on:{click:e.onExport}},[e._v(" "+e._s(e.$t("set.export"))+" ")]):e._e()]),e.inProgress?n("div",[n("CircleLoader"),e._v(" "+e._s(e.$t("general.loading"))+" ")],1):e._e()],1)},I=[],B=n("1da1"),G=(n("96cf"),function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)}),V=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"circle-wrapper"},[n("div",{attrs:{id:"circle"}},[n("div",{staticClass:"loader"},[n("div",{staticClass:"loader"},[n("div",{staticClass:"loader"},[n("div",{staticClass:"loader"})])])])])])}],z=function(e){Object(_["a"])(n,e);var t=Object(x["a"])(n);function n(){return Object(j["a"])(this,n),t.apply(this,arguments)}return n}(S["d"]);z=Object(w["a"])([S["a"]],z);var Y=z,q=Y,H=(n("a6a3"),Object(L["a"])(q,G,V,!1,null,"f262389e",null)),K=H.exports,X=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._v(" "+e._s(e.$t("actor.actorName"))+": "),r("ItemSelector",{staticClass:"d-inline-block",staticStyle:{"max-width":"600px"},attrs:{suggest:e.suggest,changeDebounceTime:500,placeholder:e.$t("actor.placeholder"),emptyPlaceholder:e.$t("actor.emptyPlaceholder"),notFoundPlaceholder:e.$t("actor.notFoundPlaceholder")},on:{onSelect:e.onSelect},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",{staticClass:"d-inline-block align-middle mr-2"},[t.item.poster?r("img",{staticClass:"option__image",attrs:{src:t.item.poster,alt:t.item.name}}):r("img",{staticClass:"option__image",attrs:{src:n("fa1d"),alt:t.item.name}})]),r("div",{staticClass:"option__desc d-inline-block align-middle"},[r("div",{staticClass:"option__title font-weight-bold h3"},[e._v(e._s(t.item.name))]),r("div",{staticClass:"option__small text-muted"},[e._v(" "+e._s(e.$t("general.popularity"))+": "+e._s(t.item.popularity)+" ")])])]}}])}),r("div",{staticClass:"my-1 text-center"},[e.value.length>0?r("button",{staticClass:"btn btn-danger d-inline-block mx-2",attrs:{type:"button"},on:{click:e.onClear}},[e._v(" "+e._s(e.$t("actor.clearList"))+" ")]):e._e(),e.setActions&&e.actorSet.length>0?r("button",{staticClass:"btn btn-success d-inline-block mx-2",attrs:{type:"button"},on:{click:e.onAppendFromSet}},[e._v(" "+e._s(e.$t("actor.appendToList"))+" ")]):e._e(),e.setActions&&e.value.length>0?r("button",{staticClass:"btn btn-success d-inline-block mx-2",attrs:{type:"button"},on:{click:e.onAppendToSet}},[e._v(" "+e._s(e.$t("actor.appendToSet"))+" ")]):e._e()]),e.value.length>0?r("div",{staticClass:"my-3"},[r("h5",[e._v(e._s(e.$tc("actor.selectedNActors",e.value.length))+":")]),r("div",{staticClass:"d-flex flex-row flex-wrap justify-content-around"},e._l(e.value,(function(t){return r("PersonView",{key:t.id,staticStyle:{width:"200px"},attrs:{person:t},on:{onDelete:e.onDelete}})})),1)]):e._e()],1)},J=[],W=n("2909");n("4e82"),n("4de4"),n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("d81d"),n("a15b"),n("fb6a");function Q(e,t){return Z.apply(this,arguments)}function Z(){return Z=Object(B["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=n?"?".concat(Object.entries(n).map((function(e){var t=Object(o["a"])(e,2),n=t[0],r=t[1];return"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(r))})).join("&")):"",e.prev=1,e.next=4,fetch(t+r);case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e["catch"](1),console.error(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,7]])}))),Z.apply(this,arguments)}function ee(e){return te.apply(this,arguments)}function te(){return te=Object(B["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,t)}));case 2:case"end":return e.stop()}}),e)}))),te.apply(this,arguments)}function ne(e,t){return re.apply(this,arguments)}function re(){return re=Object(B["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,i,s,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=o.length>2&&void 0!==o[2]?o[2]:200,a=[],i=0;case 3:if(!(i<t.length)){e.next=15;break}return s=t.slice(i,i+n).map((function(e){return e()})),e.t0=a,e.next=8,Promise.all(s);case 8:return e.t1=e.sent,a=e.t0.concat.call(e.t0,e.t1),e.next=12,ee(r);case 12:i+=n,e.next=3;break;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),re.apply(this,arguments)}var ae=function e(t,n){Object(j["a"])(this,e),this.id=t,this.name=n},ie=function e(t,n){Object(j["a"])(this,e),this.id=t,this.name=n},se=function e(t,n,r,a,i,s,o,c,u){Object(j["a"])(this,e),this.id=t,this.title=n,this.overview=r,this.genres=a,this.popularity=i,this.poster=s,this.voteCount=o,this.voteAverage=c,this.releaseDate=u},oe=function(){function e(t,n,r,a,i,s,o,c,u){Object(j["a"])(this,e),this.id=t,this.title=n,this.overview=r,this.genres=a,this.popularity=i,this.poster=s,this.voteCount=o,this.voteAverage=c,this.releaseDate=u}return Object(k["a"])(e,[{key:"toMovie",value:function(){return new se(this.id,this.title,this.overview,this.genres.map((function(e){return new ie(e.id,e.name)})),this.popularity,this.poster,this.voteCount,this.voteAverage,this.releaseDate)}}]),e}(),ce=function e(t,n,r,a){Object(j["a"])(this,e),this.id=t,this.name=n,this.popularity=r,this.poster=a},ue=function(){function e(t,n,r,a){Object(j["a"])(this,e),this.id=t,this.name=n,this.popularity=r,this.poster=a}return Object(k["a"])(e,[{key:"toPerson",value:function(){return new ce(this.id,this.name,this.popularity,this.poster)}}]),e}(),le=function(){function e(){Object(j["a"])(this,e),this.genres=new Map}return Object(k["a"])(e,[{key:"getMovieUrl",value:function(t,n){return new URL("".concat(e.host,"/movie/").concat(t,"?language=").concat(n))}},{key:"getPersonUrl",value:function(t,n){return new URL("".concat(e.host,"/person/").concat(t,"?language=").concat(n))}},{key:"searchPerson",value:function(){var t=Object(B["a"])(regeneratorRuntime.mark((function t(n,r){var a,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getRequest("".concat(e.apiHost,"/search/person"),{api_key:e.apiKey,language:r,include_adult:"true",query:n});case 2:if(a=t.sent,!(a.total_results>0)){t.next=5;break}return t.abrupt("return",a.results.map((function(e){return i.responseToPerson(e)})));case 5:return t.abrupt("return",[]);case 6:case"end":return t.stop()}}),t,this)})));function n(e,n){return t.apply(this,arguments)}return n}()},{key:"searchMovie",value:function(){var t=Object(B["a"])(regeneratorRuntime.mark((function t(n,r){var a,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getRequest("".concat(e.apiHost,"/search/movie"),{api_key:e.apiKey,language:r,include_adult:"true",query:n});case 2:if(a=t.sent,!(a.total_results>0)){t.next=5;break}return t.abrupt("return",Promise.all(a.results.map(function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",i.responseToMovie(t,r));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())));case 5:return t.abrupt("return",[]);case 6:case"end":return t.stop()}}),t,this)})));function n(e,n){return t.apply(this,arguments)}return n}()},{key:"getPerson",value:function(){var t=Object(B["a"])(regeneratorRuntime.mark((function t(n,r){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getRequest("".concat(e.apiHost,"/person/").concat(n),{api_key:e.apiKey,language:r});case 2:if(a=t.sent,void 0===a.id){t.next=5;break}return t.abrupt("return",this.responseToPerson(a));case 5:return t.abrupt("return",void 0);case 6:case"end":return t.stop()}}),t,this)})));function n(e,n){return t.apply(this,arguments)}return n}()},{key:"getMovie",value:function(){var t=Object(B["a"])(regeneratorRuntime.mark((function t(n,r){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getRequest("".concat(e.apiHost,"/movie/").concat(n),{api_key:e.apiKey,language:r});case 2:if(a=t.sent,void 0===a.id){t.next=5;break}return t.abrupt("return",this.responseToMovie(a,r));case 5:return t.abrupt("return",void 0);case 6:case"end":return t.stop()}}),t,this)})));function n(e,n){return t.apply(this,arguments)}return n}()},{key:"getRecommendations",value:function(){var t=Object(B["a"])(regeneratorRuntime.mark((function t(n,r){var a,i,s,o=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=function(t){return o.getRequest("".concat(e.apiHost,"/movie/").concat(n,"/recommendations"),{api_key:e.apiKey,language:r,page:t.toString()})},i=function(e){return e.total_pages},s=function(e){return e.results.map(function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",o.responseToMovie(t,r));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},t.abrupt("return",this.fetchAllPages(a,i,s));case 4:case"end":return t.stop()}}),t,this)})));function n(e,n){return t.apply(this,arguments)}return n}()},{key:"searchMoviesByPerson",value:function(){var t=Object(B["a"])(regeneratorRuntime.mark((function t(n,r){var a,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getRequest("".concat(e.apiHost,"/person/").concat(n,"/movie_credits"),{api_key:e.apiKey,language:r});case 2:return a=t.sent,t.abrupt("return",Promise.all(a.cast.map(function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",i.responseToMovie(t,r));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())));case 4:case"end":return t.stop()}}),t,this)})));function n(e,n){return t.apply(this,arguments)}return n}()},{key:"getGenres",value:function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this.genres.get(t),n||(n=this.requestGenres(t),this.genres.set(t,n)),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"requestGenres",value:function(){var t=Object(B["a"])(regeneratorRuntime.mark((function t(n){var r,a,s,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getRequest("".concat(e.apiHost,"/genre/movie/list"),{api_key:e.apiKey,language:n});case 2:r=t.sent,a=new Map,s=Object(i["a"])(r.genres);try{for(s.s();!(o=s.n()).done;)c=o.value,a.set(c.id,new ae(c.id,c.name))}catch(u){s.e(u)}finally{s.f()}return t.abrupt("return",a);case 7:case"end":return t.stop()}}),t,this)})));function n(e){return t.apply(this,arguments)}return n}()},{key:"getRequest",value:function(){var t=Object(B["a"])(regeneratorRuntime.mark((function t(n,r){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=3,Q(n,r);case 3:if(a=t.sent,429===a.status){t.next=6;break}return t.abrupt("return",a.json());case 6:return t.next=8,ee(e.timeout);case 8:t.next=0;break;case 10:case"end":return t.stop()}}),t)})));function n(e,n){return t.apply(this,arguments)}return n}()},{key:"responseToPerson",value:function(t){return new ue(t.id,t.name,t.popularity,t.profile_path?new URL("".concat(e.posterPathRoot,"/").concat(t.profile_path)):void 0)}},{key:"responseToMovie",value:function(){var t=Object(B["a"])(regeneratorRuntime.mark((function t(n,r){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getGenres(r);case 2:return a=t.sent,i=void 0!==n.genres?n.genres.map((function(e){return a.get(e.id)})):n.genre_ids.map((function(e){return a.get(e)})),t.abrupt("return",new oe(n.id,n.title,n.overview,i,n.popularity,n.poster_path?new URL("".concat(e.posterPathRoot,"/").concat(n.poster_path)):void 0,n.vote_count,n.vote_average,new Date(n.release_date)));case 5:case"end":return t.stop()}}),t,this)})));function n(e,n){return t.apply(this,arguments)}return n}()},{key:"fetchAllPages",value:function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,i,s,o,c,u=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=u.length>3&&void 0!==u[3]?u[3]:void 0,i=u.length>4&&void 0!==u[4]?u[4]:1,e.next=4,t(i);case 4:return s=e.sent,o=n(s)>i&&(void 0===a||a>=i)?this.fetchAllPages(t,n,r,a,i+1):new Promise((function(e){return e([])})),e.next=8,Promise.all(r(s));case 8:return c=e.sent,e.t0=c,e.next=12,o;case 12:return e.t1=e.sent,e.abrupt("return",e.t0.concat.call(e.t0,e.t1));case 14:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()}]),e}();le.apiKey="3706398aaf547b46e616831a46402288",le.apiHost="https://api.themoviedb.org/3",le.posterPathRoot="https://image.tmdb.org/t/p/w500/",le.timeout=3e3,le.host="https://www.themoviedb.org";var pe=new le,ve=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card m-2"},[r("button",{staticClass:"close position-absolute p-2",staticStyle:{top:"0",right:"0"},attrs:{type:"button"},on:{click:function(t){return e.onDelete(e.person)}}},[r("span",[e._v("×")])]),r("div",[r("a",{attrs:{href:e.getUrl(e.person.id),target:"_blank"}},[e.person.poster?r("img",{staticClass:"card-img-top m-auto d-inline-block w-auto",attrs:{src:e.person.poster,alt:e.person.name}}):r("img",{staticClass:"card-img-top m-auto d-inline-block w-auto",attrs:{src:n("fa1d"),alt:e.person.name}})])]),r("div",{staticClass:"card-body"},[r("p",{staticClass:"card-text"},[e._v(e._s(e.person.name))])])])},de=[],he=function(e){Object(_["a"])(n,e);var t=Object(x["a"])(n);function n(){var e;return Object(j["a"])(this,n),e=t.apply(this,arguments),e.api=pe,e}return Object(k["a"])(n,[{key:"lang",get:function(){return $.state.lang}},{key:"getUrl",value:function(e){return this.api.getPersonUrl(e,this.lang)}},{key:"onDelete",value:function(e){}}]),n}(S["d"]);Object(w["a"])([Object(S["c"])()],he.prototype,"person",void 0),Object(w["a"])([Object(S["b"])("onDelete")],he.prototype,"onDelete",null),he=Object(w["a"])([S["a"]],he);var fe=he,me=fe,ge=(n("5dd6"),Object(L["a"])(me,ve,de,!1,null,"584e0451",null)),be=ge.exports,ye=Object(M["createModule"])("actor-set",{namespaced:!0,state:{selectedActors:[]},mutations:{setActors:function(e,t){e.selectedActors=t}}});ye.register(A);var Oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("multiselect",{attrs:{loading:e.isLoading,"internal-search":!1,placeholder:e.placeholder,options:e.items,"option-height":104,"show-labels":!1,preserveSearch:!0},on:{"search-change":e.onChangeDebounce,select:e.onSelect},scopedSlots:e._u([{key:"option",fn:function(t){return[e._t("default",null,{item:t.option})]}},{key:"noOptions",fn:function(){return[e._v(e._s(e.emptyPlaceholder))]},proxy:!0},{key:"noResult",fn:function(){return[e._v(e._s(e.notFoundPlaceholder))]},proxy:!0}],null,!0)})},je=[],ke=n("b012"),_e=n("8e5f"),xe=n.n(_e),we=(n("e607"),function(e){Object(_["a"])(n,e);var t=Object(x["a"])(n);function n(){var e;return Object(j["a"])(this,n),e=t.apply(this,arguments),e.isLoading=!1,e.items=[],e}return Object(k["a"])(n,[{key:"created",value:function(){this.changeDebounceTime?this.onChangeDebounce=Object(ke["debounce"])(this.onSearchCustom,this.changeDebounceTime):this.onChangeDebounce=this.onSearchCustom}},{key:"beforeDestroy",value:function(){this.onChangeDebounce.clear&&this.onChangeDebounce.clear()}},{key:"onSearchCustom",value:function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.isLoading){e.next=9;break}return e.prev=1,this.isLoading=!0,e.next=5,this.suggest(t);case 5:this.items=e.sent;case 6:return e.prev=6,this.isLoading=!1,e.finish(6);case 9:case"end":return e.stop()}}),e,this,[[1,,6,9]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onSelect",value:function(e){}}]),n}(S["d"]));Object(w["a"])([Object(S["c"])()],we.prototype,"placeholder",void 0),Object(w["a"])([Object(S["c"])()],we.prototype,"emptyPlaceholder",void 0),Object(w["a"])([Object(S["c"])()],we.prototype,"notFoundPlaceholder",void 0),Object(w["a"])([Object(S["c"])()],we.prototype,"suggest",void 0),Object(w["a"])([Object(S["c"])()],we.prototype,"changeDebounceTime",void 0),Object(w["a"])([Object(S["b"])("onSelect")],we.prototype,"onSelect",null),we=Object(w["a"])([Object(S["a"])({components:{Multiselect:xe.a}})],we);var Se=we,Ce=Se,Re=Object(L["a"])(Ce,Oe,je,!1,null,"eadcdf5c",null),Me=Re.exports,Pe=function(e){Object(_["a"])(n,e);var t=Object(x["a"])(n);function n(){var e;return Object(j["a"])(this,n),e=t.apply(this,arguments),e.api=pe,e}return Object(k["a"])(n,[{key:"lang",get:function(){return $.state.lang}},{key:"actorSet",get:function(){return ye.state.selectedActors}},{key:"suggest",value:function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,this.api.searchPerson(t,this.lang);case 4:return e.abrupt("return",e.sent.sort((function(e,t){return t.popularity-e.popularity})));case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"input",value:function(e){}},{key:"onSelect",value:function(e){var t=this.value.find((function(t){return t.id===e.id}));void 0===t&&this.input([].concat(Object(W["a"])(this.value),[e]))}},{key:"onDelete",value:function(e){var t=this.value.find((function(t){return t.id===e.id}));void 0!==t&&this.input(this.value.filter((function(t){return t.id!==e.id})))}},{key:"onClear",value:function(){this.value.length>0&&this.input([])}},{key:"onAppendFromSet",value:function(){var e,t=Object(W["a"])(this.value),n=Object(i["a"])(this.actorSet);try{var r=function(){var n=e.value,r=t.find((function(e){return e.id===n.id}));void 0===r&&t.push(n)};for(n.s();!(e=n.n()).done;)r()}catch(a){n.e(a)}finally{n.f()}this.value.length!==t.length&&this.input(t)}},{key:"onAppendToSet",value:function(){var e,t=Object(W["a"])(this.actorSet),n=Object(i["a"])(this.value);try{var r=function(){var n=e.value,r=t.find((function(e){return e.id===n.id}));void 0===r&&t.push(n)};for(n.s();!(e=n.n()).done;)r()}catch(a){n.e(a)}finally{n.f()}this.actorSet.length!==t.length&&ye.mutations.setActors(t)}}]),n}(S["d"]);Object(w["a"])([Object(S["c"])()],Pe.prototype,"value",void 0),Object(w["a"])([Object(S["c"])()],Pe.prototype,"setActions",void 0),Object(w["a"])([Object(S["b"])("input")],Pe.prototype,"input",null),Pe=Object(w["a"])([Object(S["a"])({components:{ItemSelector:Me,PersonView:be}})],Pe);var Ae=Pe,$e=Ae,Te=(n("620c"),Object(L["a"])($e,X,J,!1,null,"2942639a",null)),Fe=Te.exports,De=(n("6062"),n("5db2"));function Le(e){return Object(De["b"])(e)}function Ee(e){return Object(De["a"])(e)}function Ne(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text/plain",r=new Blob([e],{type:n}),a=document.createElement("a"),i=URL.createObjectURL(r);a.href=i,a.download=t,document.body.appendChild(a),a.click(),setTimeout((function(){document.body.removeChild(a),window.URL.revokeObjectURL(i)}),0)}function Ue(){return Ie.apply(this,arguments)}function Ie(){return Ie=Object(B["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=document.createElement("input"),t.setAttribute("type","file"),t.style.display="none",document.body.append(t),e.abrupt("return",new Promise((function(e,n){var r=function r(a){var i=a.target.files;i&&i.length?e(i[0]):n(),t.removeEventListener("change",r),t.remove()};t.addEventListener("change",r),t.click()})));case 5:case"end":return e.stop()}}),e)}))),Ie.apply(this,arguments)}function Be(){return Ge.apply(this,arguments)}function Ge(){return Ge=Object(B["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Ue().then((function(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(e){var r;(null===(r=e.target)||void 0===r?void 0:r.readyState)===FileReader.DONE?t(e.target.result):n()},r.readAsText(e)}))})));case 1:case"end":return e.stop()}}),e)}))),Ge.apply(this,arguments)}var Ve=function(){function e(){Object(j["a"])(this,e),this.api=pe}return Object(k["a"])(e,[{key:"exportToFile",value:function(){var t=Object(B["a"])(regeneratorRuntime.mark((function t(n,r,a,s){var o,c,u,l,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:o=[[e.ID_COLUMN,"Name"]],c=Object(i["a"])(n);try{for(c.s();!(u=c.n()).done;)l=u.value,o.push([a(l),s(l)])}catch(v){c.e(v)}finally{c.f()}p=Le(o),Ne(e.UTF8_BOM+p,r,"text/csv");case 5:case"end":return t.stop()}}),t)})));function n(e,n,r,a){return t.apply(this,arguments)}return n}()},{key:"importFromFile",value:function(){var t=Object(B["a"])(regeneratorRuntime.mark((function t(n){var r,a,s,o,c,u,l,p,v,d,h;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Be();case 2:if(r=t.sent,a=Ee(r),s=a.shift(),o=null===s||void 0===s?void 0:s.indexOf(e.ID_COLUMN),!(void 0!==o&&o>=0)){t.next=17;break}c=new Set,u=/^[0-9]+$/,l=Object(i["a"])(a);try{for(l.s();!(p=l.n()).done;)v=p.value,v.length>o&&u.test(v[o])&&c.add(parseInt(v[o],10))}catch(f){l.e(f)}finally{l.f()}if(!(c.size>0)){t.next=17;break}return d=Object(W["a"])(c).map((function(e){return function(){return n(e)}})),t.next=15,ne(d,e.MAX_ACTIONS);case 15:return h=t.sent,t.abrupt("return",h.filter((function(e){return void 0!==e})));case 17:return t.abrupt("return",void 0);case 18:case"end":return t.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}()},{key:"exportPersonSetToFile",value:function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.exportToFile(t,n,(function(e){return e.id.toString()}),(function(e){return e.name}));case 1:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"importPersonSetFromFile",value:function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.importFromFile((function(e){return n.api.getPerson(e,t).then((function(e){return null===e||void 0===e?void 0:e.toPerson()}))})));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"exportMovieSetToFile",value:function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.exportToFile(t,n,(function(e){return e.id.toString()}),(function(e){return e.title}));case 1:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"importMovieSetFromFile",value:function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.importFromFile((function(e){return n.api.getMovie(e,t).then((function(e){return null===e||void 0===e?void 0:e.toMovie()}))})));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}();Ve.MAX_ACTIONS=5,Ve.ID_COLUMN="ID",Ve.UTF8_BOM="\ufeff";var ze=new Ve,Ye=function(e){Object(_["a"])(n,e);var t=Object(x["a"])(n);function n(){var e;return Object(j["a"])(this,n),e=t.apply(this,arguments),e.setService=ze,e.inProgress=!1,e}return Object(k["a"])(n,[{key:"selectedActors",get:function(){return ye.state.selectedActors},set:function(e){ye.mutations.setActors(e)}},{key:"lang",get:function(){return $.state.lang}},{key:"onImport",value:function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.inProgress=!0,e.next=4,this.setService.importPersonSetFromFile(this.lang);case 4:t=e.sent,void 0!==t&&(this.selectedActors=t);case 6:return e.prev=6,this.inProgress=!1,e.finish(6);case 9:case"end":return e.stop()}}),e,this,[[0,,6,9]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"onExport",value:function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,this.inProgress=!0,!(this.selectedActors.length>0)){e.next=5;break}return e.next=5,this.setService.exportPersonSetToFile(this.selectedActors,"actors.csv");case 5:return e.prev=5,this.inProgress=!1,e.finish(5);case 8:case"end":return e.stop()}}),e,this,[[0,,5,8]])})));function t(){return e.apply(this,arguments)}return t}()}]),n}(S["d"]);Ye=Object(w["a"])([Object(S["a"])({components:{ActorSelector:Fe,CircleLoader:K}})],Ye);var qe=Ye,He=qe,Ke=Object(L["a"])(He,U,I,!1,null,"83efc8ac",null),Xe=Ke.exports,Je=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"alert alert-secondary my-3 mx-2",domProps:{innerHTML:e._s(e.$t("message.cache_warning"))}}),n("MovieSelector",{attrs:{setActions:!1},model:{value:e.selectedMovies,callback:function(t){e.selectedMovies=t},expression:"selectedMovies"}}),n("div",{staticClass:"my-3 text-center"},[e.inProgress?e._e():n("button",{staticClass:"btn btn-success mt-3 mb-1 d-inline-block",attrs:{type:"button"},on:{click:e.onImport}},[e._v(" "+e._s(e.$t("set.import"))+" ")]),n("br"),!e.inProgress&&e.selectedMovies.length>0?n("button",{staticClass:"btn btn-success mb-3 d-inline-block",attrs:{type:"button"},on:{click:e.onExport}},[e._v(" "+e._s(e.$t("set.export"))+" ")]):e._e()]),e.inProgress?n("div",[n("CircleLoader"),e._v(" "+e._s(e.$t("general.loading"))+" ")],1):e._e()],1)},We=[],Qe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._v(" "+e._s(e.$t("movie.movieName"))+": "),r("ItemSelector",{staticClass:"d-inline-block",staticStyle:{"max-width":"600px"},attrs:{suggest:e.suggest,changeDebounceTime:500,placeholder:e.$t("movie.placeholder"),emptyPlaceholder:e.$t("movie.emptyPlaceholder"),notFoundPlaceholder:e.$t("movie.notFoundPlaceholder")},on:{onSelect:e.onSelect},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",{staticClass:"d-inline-block align-middle mr-2"},[t.item.poster?r("img",{staticClass:"option__image",attrs:{src:t.item.poster,alt:t.item.title}}):r("img",{staticClass:"option__image",attrs:{src:n("071f"),alt:t.item.title}})]),r("div",{staticClass:"option__desc d-inline-block align-middle"},[r("div",{staticClass:"option__title font-weight-bold h3"},[e._v(e._s(t.item.title))]),r("div",{staticClass:"option__small text-muted"},[e._v(" "+e._s(e.$t("general.popularity"))+": "+e._s(t.item.popularity)+" ")])])]}}])}),r("div",{staticClass:"my-1 text-center"},[e.value.length>0?r("button",{staticClass:"btn btn-danger d-inline-block mx-2",attrs:{type:"button"},on:{click:e.onClear}},[e._v(" "+e._s(e.$t("movie.clearList"))+" ")]):e._e(),e.setActions&&e.movieSet.length>0?r("button",{staticClass:"btn btn-success d-inline-block mx-2",attrs:{type:"button"},on:{click:e.onAppendFromSet}},[e._v(" "+e._s(e.$t("movie.appendToList"))+" ")]):e._e(),e.setActions&&e.value.length>0?r("button",{staticClass:"btn btn-success d-inline-block mx-2",attrs:{type:"button"},on:{click:e.onAppendToSet}},[e._v(" "+e._s(e.$t("movie.appendToSet"))+" ")]):e._e()]),e.value.length>0?r("div",{staticClass:"my-3"},[r("h5",[e._v(e._s(e.$tc("movie.selectedNMovies",e.value.length))+":")]),r("div",{staticClass:"d-flex flex-row flex-wrap justify-content-around"},e._l(e.value,(function(t){return r("MovieView",{key:t.id,staticStyle:{width:"200px"},attrs:{movie:t},on:{onDelete:e.onDelete}})})),1)]):e._e()],1)},Ze=[],et=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card m-2"},[r("button",{staticClass:"close position-absolute p-2",staticStyle:{top:"0",right:"0"},attrs:{type:"button"},on:{click:function(t){return e.onDelete(e.movie)}}},[r("span",[e._v("×")])]),r("div",[r("a",{attrs:{href:e.getUrl(e.movie.id),target:"_blank"}},[e.movie.poster?r("img",{staticClass:"card-img-top m-auto d-inline-block w-auto",attrs:{src:e.movie.poster,alt:e.movie.title}}):r("img",{staticClass:"card-img-top m-auto d-inline-block w-auto",attrs:{src:n("071f"),alt:e.movie.title}})])]),r("div",{staticClass:"card-body"},[r("p",{staticClass:"card-text"},[e._v(e._s(e.movie.title))])])])},tt=[],nt=function(e){Object(_["a"])(n,e);var t=Object(x["a"])(n);function n(){var e;return Object(j["a"])(this,n),e=t.apply(this,arguments),e.api=pe,e}return Object(k["a"])(n,[{key:"lang",get:function(){return $.state.lang}},{key:"getUrl",value:function(e){return this.api.getMovieUrl(e,this.lang)}},{key:"onDelete",value:function(e){}}]),n}(S["d"]);Object(w["a"])([Object(S["c"])()],nt.prototype,"movie",void 0),Object(w["a"])([Object(S["b"])("onDelete")],nt.prototype,"onDelete",null),nt=Object(w["a"])([S["a"]],nt);var rt=nt,at=rt,it=(n("e03a"),Object(L["a"])(at,et,tt,!1,null,"6e4a9bb9",null)),st=it.exports,ot=Object(M["createModule"])("movie-set",{namespaced:!0,state:{selectedMovies:[]},mutations:{setMovies:function(e,t){e.selectedMovies=t}}});ot.register(A);var ct=function(e){Object(_["a"])(n,e);var t=Object(x["a"])(n);function n(){var e;return Object(j["a"])(this,n),e=t.apply(this,arguments),e.api=pe,e}return Object(k["a"])(n,[{key:"lang",get:function(){return $.state.lang}},{key:"movieSet",get:function(){return ot.state.selectedMovies}},{key:"suggest",value:function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,this.api.searchMovie(t,this.lang);case 4:return e.abrupt("return",e.sent.map((function(e){return e.toMovie()})).sort((function(e,t){return t.popularity-e.popularity})));case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"input",value:function(e){}},{key:"onSelect",value:function(e){var t=this.value.find((function(t){return t.id===e.id}));void 0===t&&this.input([].concat(Object(W["a"])(this.value),[e]))}},{key:"onDelete",value:function(e){var t=this.value.find((function(t){return t.id===e.id}));void 0!==t&&this.input(this.value.filter((function(t){return t.id!==e.id})))}},{key:"onClear",value:function(){this.value.length>0&&this.input([])}},{key:"onAppendFromSet",value:function(){var e,t=Object(W["a"])(this.value),n=Object(i["a"])(this.movieSet);try{var r=function(){var n=e.value,r=t.find((function(e){return e.id===n.id}));void 0===r&&t.push(n)};for(n.s();!(e=n.n()).done;)r()}catch(a){n.e(a)}finally{n.f()}this.value.length!==t.length&&this.input(t)}},{key:"onAppendToSet",value:function(){var e,t=Object(W["a"])(this.movieSet),n=Object(i["a"])(this.value);try{var r=function(){var n=e.value,r=t.find((function(e){return e.id===n.id}));void 0===r&&t.push(n)};for(n.s();!(e=n.n()).done;)r()}catch(a){n.e(a)}finally{n.f()}this.movieSet.length!==t.length&&ot.mutations.setMovies(t)}}]),n}(S["d"]);Object(w["a"])([Object(S["c"])()],ct.prototype,"value",void 0),Object(w["a"])([Object(S["c"])()],ct.prototype,"setActions",void 0),Object(w["a"])([Object(S["b"])("input")],ct.prototype,"input",null),ct=Object(w["a"])([Object(S["a"])({components:{ItemSelector:Me,MovieView:st}})],ct);var ut=ct,lt=ut,pt=(n("a2eb"),Object(L["a"])(lt,Qe,Ze,!1,null,"94ca8dd4",null)),vt=pt.exports,dt=function(e){Object(_["a"])(n,e);var t=Object(x["a"])(n);function n(){var e;return Object(j["a"])(this,n),e=t.apply(this,arguments),e.setService=ze,e.inProgress=!1,e}return Object(k["a"])(n,[{key:"selectedMovies",get:function(){return ot.state.selectedMovies},set:function(e){ot.mutations.setMovies(e)}},{key:"lang",get:function(){return $.state.lang}},{key:"onImport",value:function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.inProgress=!0,e.next=4,this.setService.importMovieSetFromFile(this.lang);case 4:t=e.sent,void 0!==t&&(this.selectedMovies=t);case 6:return e.prev=6,this.inProgress=!1,e.finish(6);case 9:case"end":return e.stop()}}),e,this,[[0,,6,9]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"onExport",value:function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,this.inProgress=!0,!(this.selectedMovies.length>0)){e.next=5;break}return e.next=5,this.setService.exportMovieSetToFile(this.selectedMovies,"movies.csv");case 5:return e.prev=5,this.inProgress=!1,e.finish(5);case 8:case"end":return e.stop()}}),e,this,[[0,,5,8]])})));function t(){return e.apply(this,arguments)}return t}()}]),n}(S["d"]);dt=Object(w["a"])([Object(S["a"])({components:{MovieSelector:vt,CircleLoader:K}})],dt);var ht=dt,ft=ht,mt=Object(L["a"])(ft,Je,We,!1,null,"7db77d67",null),gt=mt.exports,bt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("ActorSelector",{attrs:{setActions:!0},model:{value:e.selectedActors,callback:function(t){e.selectedActors=t},expression:"selectedActors"}}),!e.isSearching&&e.selectedActors.length>0?n("div",[n("div",[n("button",{staticClass:"btn btn-success m-3",attrs:{type:"button"},on:{click:e.startSearch}},[e._v(" "+e._s(e.$t("general.startSearch"))+" ")])]),e.allRecommendations.length>0?n("MovieFilters",{attrs:{genres:e.genres,yearRange:e.yearRange,sortOptions:e.sortOptions},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}):e._e(),e.recommendations.length>0?n("PageableList",{attrs:{items:e.sortedRecommendations,pageSize:e.pageSize,page:e.currentPage},on:{onPageChange:e.onPageChange},scopedSlots:e._u([{key:"default",fn:function(t){return[n("MovieTileView",{staticClass:"mt-3",staticStyle:{width:"500px"},attrs:{movie:t.item[1]}},[n("div",[e._v(" "+e._s(e.$tc("actor.nActors",t.item[0].length))+": "+e._s(t.item[0].map((function(e){return e.name})).slice(0,4).join(", "))+" "),t.item[0].length>4?n("span",[e._v(e._s(e.$t("general.andOthers")))]):e._e()])])]}}],null,!1,3973475049)}):e._e()],1):e._e(),e.isSearching?n("div",[n("CircleLoader"),e._v(" "+e._s(e.$t("general.loading"))+" ")],1):e._e()],1)},yt=[],Ot=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-6 col-12"},[r("div",{staticClass:"card mx-auto my-2",staticStyle:{"max-width":"40rem"}},[r("div",{staticClass:"card-body"},[r("div",{staticClass:"card-title"},[r("img",{staticClass:"mx-2",staticStyle:{height:"1.8rem"},attrs:{src:n("5ee4")}}),e._v(" "+e._s(e.$t("filter.filters"))+" ")]),r("div",{staticClass:"card-text"},[r("button",{staticClass:"btn btn-outline-danger my-3",class:{active:!e.excludeMoviesFromSet},attrs:{type:"button"},on:{click:function(t){e.excludeMoviesFromSet=!e.excludeMoviesFromSet}}},[e._v(" "+e._s(e.excludeMoviesFromSet?e.$t("movie.showAll"):e.$t("movie.excludeMovies"))+" ")]),r("br"),r("TagSelector",{attrs:{items:e.genres,placeholder:e.$t("filter.chooseGenresToExclude"),toName:e.genreToName},model:{value:e.excludedGenres,callback:function(t){e.excludedGenres=t},expression:"excludedGenres"}}),r("br"),r("YearRangePicker",{attrs:{min:e.yearRange[0],max:e.yearRange[1]},model:{value:e.years,callback:function(t){e.years=t},expression:"years"}})],1)])])]),r("div",{staticClass:"col-md-6 col-12"},[r("div",{staticClass:"card mx-auto my-2",staticStyle:{"max-width":"40rem"}},[r("div",{staticClass:"card-body"},[r("div",{staticClass:"card-title"},[r("img",{staticClass:"mx-2",staticStyle:{height:"1.8rem"},attrs:{src:n("133b")}}),e._v(" "+e._s(e.$t("filter.sort"))+" ")]),r("div",{staticClass:"card-text"},[e._v(" "+e._s(e.$t("filter.sortBy"))+" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.sort,expression:"sort"}],staticClass:"form-control form-control-sm d-inline ml-2",staticStyle:{"max-width":"10rem"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.sort=t.target.multiple?n:n[0]}}},[r("option",{attrs:{value:"",disabled:""}},[e._v(e._s(e.$t("general.chooseOptions")))]),e._l(e.sortOptions,(function(t){return r("option",{key:t.id,domProps:{value:t.id,selected:t.id===e.sort}},[e._v(e._s(e.$t(t.n)))])}))],2)])])])])])},jt=[],kt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("multiselect",{attrs:{customLabel:e.toName,taggable:!0,showLabels:!1,multiple:!0,options:e.items,placeholder:e.placeholder,value:e.value},on:{select:e.onSelect,remove:e.onRemove}})},_t=[],xt=function(e){Object(_["a"])(n,e);var t=Object(x["a"])(n);function n(){return Object(j["a"])(this,n),t.apply(this,arguments)}return Object(k["a"])(n,[{key:"input",value:function(e){}},{key:"onSelect",value:function(e){this.input([].concat(Object(W["a"])(this.value),[e]))}},{key:"onRemove",value:function(e){this.input(this.value.filter((function(t){return t!==e})))}}]),n}(S["d"]);Object(w["a"])([Object(S["c"])()],xt.prototype,"placeholder",void 0),Object(w["a"])([Object(S["c"])()],xt.prototype,"items",void 0),Object(w["a"])([Object(S["c"])()],xt.prototype,"value",void 0),Object(w["a"])([Object(S["c"])()],xt.prototype,"toName",void 0),Object(w["a"])([Object(S["b"])("input")],xt.prototype,"input",null),xt=Object(w["a"])([Object(S["a"])({components:{Multiselect:xe.a}})],xt);var wt,St=xt,Ct=St,Rt=Object(L["a"])(Ct,kt,_t,!1,null,"7017935d",null),Mt=Rt.exports,Pt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"text-center"},[n("label",[e._v(e._s(e.$t("filter.year")))]),n("input",{staticClass:"form-control d-inline-block",class:{"is-invalid":!e.isStartValid},staticStyle:{width:"6rem"},attrs:{type:"text",placeholder:e.min.toString()},domProps:{value:e.start},on:{input:e.onStartChange}}),e._v(" - "),n("input",{staticClass:"form-control d-inline-block",class:{"is-invalid":!e.isEndValid},staticStyle:{width:"6rem"},attrs:{type:"text",placeholder:e.max.toString()},domProps:{value:e.end},on:{input:e.onEndChange}})]),e.isStartValid&&e.isEndValid?e._e():n("div",{staticClass:"invalid-feedback d-block"},[e._v(" "+e._s(e.$t("filter.validYearRange",{min:e.min,max:e.max}))+" ")])])},At=[],$t=(n("498a"),wt=function(e){Object(_["a"])(n,e);var t=Object(x["a"])(n);function n(){return Object(j["a"])(this,n),t.apply(this,arguments)}return Object(k["a"])(n,[{key:"created",value:function(){if(null===this.value){var e=[null,null];this.start=e[0],this.end=e[1]}else{var t=[this.value[0]?this.value[0]:null,this.value[1]?this.value[1]:null];this.start=t[0],this.end=t[1]}var n=this.valid(),r=Object(o["a"])(n,2);this.isStartValid=r[0],this.isEndValid=r[1]}},{key:"onStartChange",value:function(e){var t=wt.normalizeInt(e.target.value);void 0!==t&&(this.start=t,this.onRangeChange()),this.$forceUpdate()}},{key:"onEndChange",value:function(e){var t=wt.normalizeInt(e.target.value);void 0!==t&&(this.end=t,this.onRangeChange()),this.$forceUpdate()}},{key:"onRangeChange",value:function(){var e=this.valid(),t=Object(o["a"])(e,2);this.isStartValid=t[0],this.isEndValid=t[1],this.isStartValid&&this.isEndValid&&(null===this.start&&null===this.end?this.input(null):this.input([this.start,this.end]))}},{key:"valid",value:function(){var e=this.start,t=this.end,n=null===e||e>=this.min&&e<=this.max,r=null===t||t>=this.min&&t<=this.max,a=null===e||null===t||e<=t;return[n&&a,r&&a]}},{key:"input",value:function(e){}}],[{key:"normalizeInt",value:function(e){return e=e.trim(),""===e?null:/^[0-9]+$/.test(e)?parseInt(e.trim(),10):void 0}}]),n}(S["d"]));Object(w["a"])([Object(S["c"])()],$t.prototype,"value",void 0),Object(w["a"])([Object(S["c"])()],$t.prototype,"min",void 0),Object(w["a"])([Object(S["c"])()],$t.prototype,"max",void 0),Object(w["a"])([Object(S["b"])("input")],$t.prototype,"input",null),$t=wt=Object(w["a"])([S["a"]],$t);var Tt=$t,Ft=Tt,Dt=Object(L["a"])(Ft,Pt,At,!1,null,"0933839d",null),Lt=Dt.exports,Et=function(e){Object(_["a"])(n,e);var t=Object(x["a"])(n);function n(){return Object(j["a"])(this,n),t.apply(this,arguments)}return Object(k["a"])(n,[{key:"excludeMoviesFromSet",get:function(){return this.value.excludeMoviesFromSet},set:function(e){this.input(Object(c["a"])(Object(c["a"])({},this.value),{},{excludeMoviesFromSet:e}))}},{key:"excludedGenres",get:function(){return this.value.excludedGenres},set:function(e){this.input(Object(c["a"])(Object(c["a"])({},this.value),{},{excludedGenres:e}))}},{key:"years",get:function(){return this.value.years},set:function(e){this.input(Object(c["a"])(Object(c["a"])({},this.value),{},{years:e}))}},{key:"sort",get:function(){return this.value.sort},set:function(e){this.input(Object(c["a"])(Object(c["a"])({},this.value),{},{sort:e}))}},{key:"genreToName",value:function(e){return e.name}},{key:"input",value:function(e){}}]),n}(S["d"]);Object(w["a"])([Object(S["c"])()],Et.prototype,"value",void 0),Object(w["a"])([Object(S["c"])()],Et.prototype,"genres",void 0),Object(w["a"])([Object(S["c"])()],Et.prototype,"sortOptions",void 0),Object(w["a"])([Object(S["c"])()],Et.prototype,"yearRange",void 0),Object(w["a"])([Object(S["b"])("input")],Et.prototype,"input",null),Et=Object(w["a"])([Object(S["a"])({components:{TagSelector:Mt,YearRangePicker:Lt}})],Et);var Nt=Et,Ut=Nt,It=(n("804a"),Object(L["a"])(Ut,Ot,jt,!1,null,"2dea911f",null)),Bt=It.exports,Gt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card mx-2"},[r("div",[r("a",{attrs:{href:e.getUrl(e.movie.id),target:"_blank"}},[e.movie.poster?r("img",{staticClass:"card-img-top m-auto d-inline-block w-auto",attrs:{src:e.movie.poster,alt:e.movie.title}}):r("img",{staticClass:"card-img-top m-auto d-inline-block w-auto",attrs:{src:n("071f"),alt:e.movie.title}})])]),r("div",{staticClass:"card-body"},[r("h5",{staticClass:"card-title"},[e._v(e._s(e.movie.title))]),e.showDetails?r("p",{staticClass:"card-text"},[e._v(e._s(e.movie.overview))]):r("div",{staticStyle:{cursor:"pointer"},on:{click:function(t){e.showDetails=!0}}},[e._v(" "+e._s(e.$t("general.showDetails"))+" ")]),e.movie.releaseDate?r("div",[e._v(" "+e._s(e.$t("general.year"))+": ("+e._s(e.movie.releaseDate.getFullYear())+") ")]):e._e(),r("div",[e._v(" "+e._s(e.$t("movie.genres"))+": "),e._l(e.movie.genres,(function(t){return r("span",{key:t.id,staticClass:"badge badge-secondary mr-1"},[e._v(e._s(t.name))])}))],2),r("div",[e._v(" "+e._s(e.$t("general.vote"))+": "),r("StarRating",{attrs:{count:10,range:10,score:e.movie.voteAverage}}),e._v(" ("+e._s(e.movie.voteAverage)+") ")],1),r("div",[e._v(" "+e._s(e.$t("general.popularity"))+": "),r("StarRating",{attrs:{count:10,range:50,score:e.movie.popularity}}),e._v(" ("+e._s(e.movie.popularity)+") ")],1),e._t("default"),r("div",{staticClass:"my-2"},[e.isinMovieSet?r("button",{staticClass:"btn btn-outline-danger my-1 mx-auto d-block",attrs:{type:"button"},on:{click:e.removeFromSet}},[e._v(" "+e._s(e.$t("set.remove"))+" ")]):r("button",{staticClass:"btn btn-outline-primary my-1 mx-auto d-block",attrs:{type:"button"},on:{click:e.addToSet}},[e._v(" "+e._s(e.$t("set.add"))+" ")]),r("a",{staticClass:"btn btn-outline-primary my-1",attrs:{href:e.getTrailerUrl(e.movie),target:"_blank"}},[e._v(" "+e._s(e.$t("movie.findTrailer"))+" ")])])],2)])},Vt=[],zt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"d-inline",attrs:{title:e.score}},e._l(e.count,(function(t){return r("span",{key:t},[t<=e.checkedStars?r("img",{staticClass:"star",attrs:{src:n("7c96")}}):r("img",{staticClass:"star",attrs:{src:n("42a8")}})])})),0)},Yt=[],qt=function(e){Object(_["a"])(n,e);var t=Object(x["a"])(n);function n(){return Object(j["a"])(this,n),t.apply(this,arguments)}return Object(k["a"])(n,[{key:"checkedStars",get:function(){return this.score/this.range*this.count}}]),n}(S["d"]);Object(w["a"])([Object(S["c"])()],qt.prototype,"count",void 0),Object(w["a"])([Object(S["c"])()],qt.prototype,"range",void 0),Object(w["a"])([Object(S["c"])()],qt.prototype,"score",void 0),qt=Object(w["a"])([S["a"]],qt);var Ht=qt,Kt=Ht,Xt=(n("7b8b"),Object(L["a"])(Kt,zt,Yt,!1,null,"d5b3ddd2",null)),Jt=Xt.exports,Wt=function(e){Object(_["a"])(n,e);var t=Object(x["a"])(n);function n(){var e;return Object(j["a"])(this,n),e=t.apply(this,arguments),e.api=pe,e.showDetails=!1,e}return Object(k["a"])(n,[{key:"lang",get:function(){return $.state.lang}},{key:"movieSet",get:function(){return ot.state.selectedMovies}},{key:"isinMovieSet",get:function(){var e=this,t=this.movieSet.find((function(t){return t.id===e.movie.id}));return void 0!==t}},{key:"addToSet",value:function(){this.isinMovieSet||ot.mutations.setMovies([].concat(Object(W["a"])(this.movieSet),[this.movie]))}},{key:"removeFromSet",value:function(){var e=this;this.isinMovieSet&&ot.mutations.setMovies(this.movieSet.filter((function(t){return t.id!==e.movie.id})))}},{key:"getUrl",value:function(e){return this.api.getMovieUrl(e,this.lang)}},{key:"getTrailerUrl",value:function(e){var t="".concat(e.title," ").concat(this.$t("movie.trailer"));return"https://youtube.com/results?search_query=".concat(encodeURIComponent(t))}}]),n}(S["d"]);Object(w["a"])([Object(S["c"])()],Wt.prototype,"movie",void 0),Wt=Object(w["a"])([Object(S["a"])({components:{StarRating:Jt}})],Wt);var Qt=Wt,Zt=Qt,en=(n("9292"),Object(L["a"])(Zt,Gt,Vt,!1,null,"3aaf3154",null)),tn=en.exports,nn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.items.length>0?n("div",[n("div",{staticClass:"my-2"},[n("Paginator",{staticClass:"d-inline-block m-auto",attrs:{displayCount:5,pageCount:Math.ceil(e.items.length/e.pageSize),currentPage:e.page},on:{onChange:e.onPageChange}})],1),n("div",{staticClass:"d-flex flex-row flex-wrap justify-content-around"},[e._l(e.range(e.rangeStart,e.rangeEnd),(function(t){return e._t("default",null,{item:e.items[t]})}))],2),n("div",{staticClass:"my-2"},[n("Paginator",{staticClass:"d-inline-block m-auto",attrs:{displayCount:5,pageCount:Math.ceil(e.items.length/e.pageSize),currentPage:e.page},on:{onChange:e.onPageChange}})],1)]):e._e()},rn=[],an=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",[n("ul",{staticClass:"pagination"},[e.displayCount<e.pageCount?n("li",{staticClass:"page-item",class:{disabled:1===e.currentPage}},[1===e.currentPage?n("span",{staticClass:"page-link"},[e._v(e._s(e.$t("paginator.previous")))]):n("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.onPrev()}}},[e._v(e._s(e.$t("paginator.previous")))])]):e._e(),e._l(e.range(e.rangeStart,e.rangeEnd),(function(t){return n("li",{key:t,staticClass:"page-item",class:{active:e.currentPage===t}},[e.currentPage===t?n("span",{staticClass:"page-link"},[e._v(e._s(t))]):n("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(n){return n.preventDefault(),e.onChange(t)}}},[e._v(e._s(t))])])})),e.displayCount<e.pageCount?n("li",{staticClass:"page-item",class:{disabled:e.currentPage===e.pageCount}},[e.currentPage===e.pageCount?n("span",{staticClass:"page-link"},[e._v(e._s(e.$t("paginator.next")))]):n("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.onNext()}}},[e._v(e._s(e.$t("paginator.next")))])]):e._e()],2)])},sn=[],on=(n("b65f"),function(e){Object(_["a"])(n,e);var t=Object(x["a"])(n);function n(){return Object(j["a"])(this,n),t.apply(this,arguments)}return Object(k["a"])(n,[{key:"range",value:function(e,t){for(var n=[],r=e;r<=t;r++)n.push(r);return n}},{key:"rangeStart",get:function(){var e=this.displayCount/2,t=Math.trunc(e),n=Math.max(this.currentPage-t,1),r=Math.max(this.pageCount-this.displayCount+1,1);return Math.min(n,r)}},{key:"rangeEnd",get:function(){return this.rangeStart+Math.min(this.displayCount,this.pageCount)-1}},{key:"onPrev",value:function(){this.currentPage>1&&this.$emit("onChange",this.currentPage-1)}},{key:"onNext",value:function(){this.currentPage<this.pageCount&&this.$emit("onChange",this.currentPage+1)}},{key:"onChange",value:function(e){this.currentPage!==e&&this.$emit("onChange",e)}}]),n}(S["d"]));Object(w["a"])([Object(S["c"])()],on.prototype,"displayCount",void 0),Object(w["a"])([Object(S["c"])()],on.prototype,"pageCount",void 0),Object(w["a"])([Object(S["c"])()],on.prototype,"currentPage",void 0),on=Object(w["a"])([S["a"]],on);var cn=on,un=cn,ln=Object(L["a"])(un,an,sn,!1,null,"3301fa54",null),pn=ln.exports,vn=function(e){Object(_["a"])(n,e);var t=Object(x["a"])(n);function n(){return Object(j["a"])(this,n),t.apply(this,arguments)}return Object(k["a"])(n,[{key:"onPageChange",value:function(e){}},{key:"rangeStart",get:function(){return this.pageSize*(this.page-1)}},{key:"rangeEnd",get:function(){return Math.min(this.items.length,this.pageSize*this.page)-1}},{key:"range",value:function(e,t){for(var n=[],r=e;r<=t;r++)n.push(r);return n}}]),n}(S["d"]);Object(w["a"])([Object(S["c"])()],vn.prototype,"items",void 0),Object(w["a"])([Object(S["c"])()],vn.prototype,"pageSize",void 0),Object(w["a"])([Object(S["c"])()],vn.prototype,"page",void 0),Object(w["a"])([Object(S["b"])("onPageChange")],vn.prototype,"onPageChange",null),vn=Object(w["a"])([Object(S["a"])({components:{Paginator:pn}})],vn);var dn=vn,hn=dn,fn=Object(L["a"])(hn,nn,rn,!1,null,"147ff79e",null),mn=fn.exports,gn=regeneratorRuntime.mark(bn);function bn(e,t){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(e.length===t.length){r.next=2;break}throw new Error("Arrays must have same length");case 2:n=0;case 3:if(!(n<e.length)){r.next=9;break}return r.next=6,[e[n],t[n]];case 6:++n,r.next=3;break;case 9:case"end":return r.stop()}}),gn)}var yn=function(){function e(){Object(j["a"])(this,e),this.api=pe}return Object(k["a"])(e,[{key:"recommendMoviesByMovies",value:function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,i,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=function(e){return s.api.getRecommendations(e.id,n)},e.next=3,this.recommend(Object(W["a"])(t),r,(function(e){return e.id}));case 3:return a=e.sent,i=new Set(Object(W["a"])(t).map((function(e){return e.id}))),e.abrupt("return",a.filter((function(e){return!i.has(e[1].id)})).map((function(e){return[e[0],e[1].toMovie()]})));case 6:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"recommendMoviesByActors",value:function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=function(e){return i.api.searchMoviesByPerson(e.id,n)},e.next=3,this.recommend(Object(W["a"])(t),r,(function(e){return e.id}));case 3:return a=e.sent,e.abrupt("return",a.map((function(e){return[e[0],e[1].toMovie()]})));case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"recommend",value:function(){var t=Object(B["a"])(regeneratorRuntime.mark((function t(n,r,a){var s,c,u,l,p,v,d,h,f,m,g,b,y;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=n.map((function(e){return function(){return r(e)}})),t.next=3,ne(s,e.MAX_ACTIONS);case 3:c=t.sent,u=new Map,l=Object(i["a"])(bn(c,n));try{for(l.s();!(p=l.n()).done;){v=Object(o["a"])(p.value,2),d=v[0],h=v[1],f=Object(i["a"])(d);try{for(f.s();!(m=f.n()).done;)g=m.value,b=a(g),y=u.get(b),y?y[0].push(h):u.set(b,[[h],g])}catch(O){f.e(O)}finally{f.f()}}}catch(O){l.e(O)}finally{l.f()}return t.abrupt("return",Object(W["a"])(u.values()));case 8:case"end":return t.stop()}}),t)})));function n(e,n,r){return t.apply(this,arguments)}return n}()}]),e}();yn.MAX_ACTIONS=5;var On=new yn,jn=Object(M["createModule"])("movies-by-actors",{namespaced:!0,state:{selectedActors:[],movies:[]},mutations:{setActors:function(e,t){e.selectedActors=t},recommend:function(e,t){e.movies=t}}});jn.register(A);n("1276"),n("8a79");function kn(e,t,n){return e===t?0:void 0!==e&&void 0===t||null!==e&&null===t||e>t?n:-1*n}function _n(e,t){var n=t.split("."),r=e;return n.every((function(e){return void 0!==r&&null!==r&&(r=r[e],!0)})),r}function xn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.length?e.sort((function(e,t){for(var r=0,a=0;0===r&&a<n.length;++a){var i=n[a].endsWith(":desc")?-1:1,s=n[a].replace(/:desc$/i,"").replace(/:asc$/i,""),o=_n(e,s),c=_n(t,s);r=kn(o,c,i)}return r})):e}var wn=function(e){Object(_["a"])(n,e);var t=Object(x["a"])(n);function n(){var e;return Object(j["a"])(this,n),e=t.apply(this,arguments),e.recommender=On,e.isSearching=!1,e.pageSize=9,e.currentPage=1,e.sortOptions=[{id:"popularity",n:"general.popularity"},{id:"voteAverage",n:"general.vote"},{id:"releaseDate",n:"general.year"}],e.filter={excludeMoviesFromSet:!1,excludedGenres:[],years:null,sort:e.sortOptions[0].id},e}return Object(k["a"])(n,[{key:"selectedActors",get:function(){return jn.state.selectedActors},set:function(e){jn.mutations.setActors(e)}},{key:"allRecommendations",get:function(){return jn.state.movies},set:function(e){jn.mutations.recommend(e),this.currentPage=1,this.resetFilter()}},{key:"recommendations",get:function(){var e=this.allRecommendations;if(0===e.length)return e;if(this.filter.excludeMoviesFromSet&&this.movieSet.length>0){var t=new Set(this.movieSet.map((function(e){return e.id})));e=e.filter((function(e){return!t.has(e[1].id)}))}if(this.filter.excludedGenres.length>0){var n=new Set(this.filter.excludedGenres.map((function(e){return e.id})));e=e.filter((function(e){return e[1].genres.every((function(e){return!n.has(e.id)}))}))}if(null!==this.filter.years){var r=Object(o["a"])(this.filter.years,2),a=r[0],i=r[1],s=function(e){return(null===a||e.getFullYear()>=a)&&(null===i||e.getFullYear()<=i)};e=e.filter((function(e){return!e[1].releaseDate||s(e[1].releaseDate)}))}return e}},{key:"sortedRecommendations",get:function(){return xn(Object(W["a"])(this.recommendations),"0.length:desc","1.".concat(this.filter.sort,":desc"))}},{key:"genres",get:function(){var e,t=new Map,n=Object(i["a"])(this.allRecommendations);try{for(n.s();!(e=n.n()).done;){var r,a=e.value,s=Object(i["a"])(a[1].genres);try{for(s.s();!(r=s.n()).done;){var o=r.value;t.set(o.id,o)}}catch(c){s.e(c)}finally{s.f()}}}catch(c){n.e(c)}finally{n.f()}return Object(W["a"])(t.values()).sort((function(e,t){return e.name.localeCompare(t.name)}))}},{key:"yearRange",get:function(){var e,t=1400,n=9e3,r=Object(i["a"])(this.allRecommendations);try{for(r.s();!(e=r.n()).done;){var a,s=e.value,o=null===(a=s[1].releaseDate)||void 0===a?void 0:a.getFullYear();void 0!==o&&(t=o>t?o:t,n=o<n?o:n)}}catch(c){r.e(c)}finally{r.f()}return[n,t]}},{key:"lang",get:function(){return $.state.lang}},{key:"movieSet",get:function(){return ot.state.selectedMovies}},{key:"onPageChange",value:function(e){this.currentPage=e}},{key:"startSearch",value:function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.isSearching){e.next=9;break}return e.prev=1,this.isSearching=!0,e.next=5,this.recommender.recommendMoviesByActors(new Set(this.selectedActors),this.lang);case 5:this.allRecommendations=e.sent;case 6:return e.prev=6,this.isSearching=!1,e.finish(6);case 9:case"end":return e.stop()}}),e,this,[[1,,6,9]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"resetFilter",value:function(){this.filter.excludeMoviesFromSet=!1,this.filter.excludedGenres=[],this.filter.years=null}}]),n}(S["d"]);wn=Object(w["a"])([Object(S["a"])({components:{ActorSelector:Fe,CircleLoader:K,MovieTileView:tn,PageableList:mn,MovieFilters:Bt}})],wn);var Sn=wn,Cn=Sn,Rn=Object(L["a"])(Cn,bt,yt,!1,null,"46e955b4",null),Mn=Rn.exports,Pn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("MovieSelector",{attrs:{setActions:!0},model:{value:e.selectedMovies,callback:function(t){e.selectedMovies=t},expression:"selectedMovies"}}),!e.isSearching&&e.selectedMovies.length>0?n("div",[n("div",[n("button",{staticClass:"btn btn-success m-3",attrs:{type:"button"},on:{click:e.startSearch}},[e._v(" "+e._s(e.$t("general.startSearch"))+" ")])]),e.allRecommendations.length>0?n("MovieFilters",{attrs:{genres:e.genres,yearRange:e.yearRange,sortOptions:e.sortOptions},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}):e._e(),e.recommendations.length>0?n("PageableList",{attrs:{items:e.sortedRecommendations,pageSize:e.pageSize,page:e.currentPage},on:{onPageChange:e.onPageChange},scopedSlots:e._u([{key:"default",fn:function(t){return[n("MovieTileView",{staticClass:"mt-3",staticStyle:{width:"500px"},attrs:{movie:t.item[1]}},[n("div",[e._v(" "+e._s(e.$t("general.recommended"))+" "+e._s(e.$tc("general.nTimes",t.item[0].length))+" ")])])]}}],null,!1,4157272002)}):e._e()],1):e._e(),e.isSearching?n("div",[n("CircleLoader"),e._v(" "+e._s(e.$t("general.loading"))+" ")],1):e._e()],1)},An=[],$n=Object(M["createModule"])("movies-by-movies",{namespaced:!0,state:{selectedMovies:[],movies:[]},mutations:{setMovies:function(e,t){e.selectedMovies=t},recommend:function(e,t){e.movies=t}}});$n.register(A);var Tn=function(e){Object(_["a"])(n,e);var t=Object(x["a"])(n);function n(){var e;return Object(j["a"])(this,n),e=t.apply(this,arguments),e.recommender=On,e.isSearching=!1,e.pageSize=9,e.currentPage=1,e.sortOptions=[{id:"popularity",n:"general.popularity"},{id:"voteAverage",n:"general.vote"},{id:"releaseDate",n:"general.year"}],e.filter={excludeMoviesFromSet:!1,excludedGenres:[],years:null,sort:e.sortOptions[0].id},e}return Object(k["a"])(n,[{key:"selectedMovies",get:function(){return $n.state.selectedMovies},set:function(e){$n.mutations.setMovies(e)}},{key:"allRecommendations",get:function(){return $n.state.movies},set:function(e){$n.mutations.recommend(e),this.currentPage=1,this.resetFilter()}},{key:"recommendations",get:function(){var e=this.allRecommendations;if(0===e.length)return e;if(this.filter.excludeMoviesFromSet&&this.movieSet.length>0){var t=new Set(this.movieSet.map((function(e){return e.id})));e=e.filter((function(e){return!t.has(e[1].id)}))}if(this.filter.excludedGenres.length>0){var n=new Set(this.filter.excludedGenres.map((function(e){return e.id})));e=e.filter((function(e){return e[1].genres.every((function(e){return!n.has(e.id)}))}))}if(null!==this.filter.years){var r=Object(o["a"])(this.filter.years,2),a=r[0],i=r[1],s=function(e){return(null===a||e.getFullYear()>=a)&&(null===i||e.getFullYear()<=i)};e=e.filter((function(e){return!e[1].releaseDate||s(e[1].releaseDate)}))}return e}},{key:"sortedRecommendations",get:function(){return xn(Object(W["a"])(this.recommendations),"0.length:desc","1.".concat(this.filter.sort,":desc"))}},{key:"genres",get:function(){var e,t=new Map,n=Object(i["a"])(this.allRecommendations);try{for(n.s();!(e=n.n()).done;){var r,a=e.value,s=Object(i["a"])(a[1].genres);try{for(s.s();!(r=s.n()).done;){var o=r.value;t.set(o.id,o)}}catch(c){s.e(c)}finally{s.f()}}}catch(c){n.e(c)}finally{n.f()}return Object(W["a"])(t.values()).sort((function(e,t){return e.name.localeCompare(t.name)}))}},{key:"yearRange",get:function(){var e,t=1400,n=9e3,r=Object(i["a"])(this.allRecommendations);try{for(r.s();!(e=r.n()).done;){var a,s=e.value,o=null===(a=s[1].releaseDate)||void 0===a?void 0:a.getFullYear();void 0!==o&&(t=o>t?o:t,n=o<n?o:n)}}catch(c){r.e(c)}finally{r.f()}return[n,t]}},{key:"lang",get:function(){return $.state.lang}},{key:"movieSet",get:function(){return ot.state.selectedMovies}},{key:"onPageChange",value:function(e){this.currentPage=e}},{key:"startSearch",value:function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.isSearching){e.next=9;break}return e.prev=1,this.isSearching=!0,e.next=5,this.recommender.recommendMoviesByMovies(new Set(this.selectedMovies),this.lang);case 5:this.allRecommendations=e.sent;case 6:return e.prev=6,this.isSearching=!1,e.finish(6);case 9:case"end":return e.stop()}}),e,this,[[1,,6,9]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"resetFilter",value:function(){this.filter.excludeMoviesFromSet=!1,this.filter.excludedGenres=[],this.filter.years=null}}]),n}(S["d"]);Tn=Object(w["a"])([Object(S["a"])({components:{MovieSelector:vt,CircleLoader:K,MovieTileView:tn,PageableList:mn,MovieFilters:Bt}})],Tn);var Fn=Tn,Dn=Fn,Ln=(n("e633"),Object(L["a"])(Dn,Pn,An,!1,null,"dc93e9a6",null)),En=Ln.exports,Nn=function(e){Object(_["a"])(n,e);var t=Object(x["a"])(n);function n(){var e;return Object(j["a"])(this,n),e=t.apply(this,arguments),e.pages=[{name:"pages.searchByActors",component:Mn},{name:"pages.searchByMovies",component:En},{name:"pages.actorSet",component:Xe},{name:"pages.movieSet",component:gt}],e.currentPage=e.pages[0],e.siteName="siteName",e}return Object(k["a"])(n,[{key:"navigate",value:function(e){var t=this.pages.find((function(t){return t.name===e}));void 0!==t&&(this.currentPage=t)}}]),n}(S["d"]);Nn=Object(w["a"])([Object(S["a"])({components:{SearchByMoviePage:En,NavBar:N,SearchByActorPage:Mn,MovieSetPage:gt,ActorSetPage:Xe}})],Nn);var Un=Nn,In=Un,Bn=(n("034f"),Object(L["a"])(In,y,O,!1,null,null,null)),Gn=Bn.exports;n("ab8b");a["a"].config.productionTip=!1,new a["a"]({i18n:b,render:function(e){return e(Gn)}}).$mount("#app")},cebe:function(e,t,n){},e03a:function(e,t,n){"use strict";n("8e8a")},e633:function(e,t,n){"use strict";n("7cb9")},f702:function(e,t,n){"use strict";n("515c")},fa1d:function(e,t,n){e.exports=n.p+"img/no-person.a9b49387.svg"}});