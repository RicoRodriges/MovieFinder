(function(e){function t(t){for(var r,s,o=t[0],c=t[1],u=t[2],p=0,d=[];p<o.length;p++)s=o[p],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&d.push(a[s][0]),a[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(d.length)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},a={app:0},i=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"015a":function(e,t,n){},"034f":function(e,t,n){"use strict";n("85ec")},"071f":function(e,t,n){e.exports=n.p+"img/no-movie.1032a868.svg"},"07cb":function(e,t,n){"use strict";n("456c")},"133b":function(e,t,n){e.exports=n.p+"img/sort.1a678f3c.svg"},"22e2":function(e,t,n){},"22ee":function(e,t,n){"use strict";n("3549")},3549:function(e,t,n){},"3f8a":function(e,t,n){},"42a8":function(e,t,n){e.exports=n.p+"img/star.131946e7.svg"},4454:function(e,t,n){"use strict";n("4d7e")},"44d5":function(e,t,n){},"44ee":function(e,t,n){},"456c":function(e,t,n){},"4b22":function(e,t,n){"use strict";n("44d5")},"4d7e":function(e,t,n){},"515c":function(e,t,n){},"5dd6":function(e,t,n){"use strict";n("22e2")},"5ee4":function(e,t,n){e.exports=n.p+"img/filter.f25396f2.svg"},"620c":function(e,t,n){"use strict";n("3f8a")},"66d9":function(e,t,n){e.exports=n.p+"img/ru.ca1867fc.svg"},"7b8b":function(e,t,n){"use strict";n("44ee")},"7c96":function(e,t,n){e.exports=n.p+"img/star-checked.ed62f3d2.svg"},"85ec":function(e,t,n){},"8e8a":function(e,t,n){},9292:function(e,t,n){"use strict";n("9cf2")},"9cf2":function(e,t,n){},a2eb:function(e,t,n){"use strict";n("015a")},bc04:function(e,t,n){e.exports=n.p+"img/en.fddefaae.svg"},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r,a=n("2b0e"),i=n("b85c"),s=(n("7db0"),n("2ca0"),n("b64b"),n("a925"));(function(e){e["EN"]="en",e["RU"]="ru"})(r||(r={}));var o=n("3835"),c=n("5530");n("99af"),n("4fad"),n("ac1f"),n("466d"),n("4d63"),n("25f0"),n("5319");function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n=Object(c["a"])({path:"/"},n),n.expires&&n.expires.toUTCString&&(n.expires=n.expires.toUTCString());for(var r="".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t)),a=0,i=Object.entries(n);a<i.length;a++){var s=Object(o["a"])(i[a],2),u=s[0],l=s[1];r+="; ".concat(u),!0!==l&&(r+="=".concat(l))}document.cookie=r}function l(e){var t=document.cookie.match(new RegExp("(?:^|; )".concat(e.replace(/([.$?*|{}()[\]\\/+^])/g,"\\$1"),"=([^;]*)")));return t?decodeURIComponent(t[1]):void 0}var p,d=n("ade3"),v=(p={},Object(d["a"])(p,r.EN,{lang:"English",siteName:"Movie finder",message:{cache_warning:"This site does not store user data.<br/>Actor and movie sets are not synchronized with other devices and will be irrevocably lost after web page refreshing!"},actor:{placeholder:"Input actor name",emptyPlaceholder:"Start writing actor name",notFoundPlaceholder:"Actors were not found",nActors:"0 actor | 1 actor | {n} actors | {n} actors",actorName:"Actor name",selectedNActors:"Selected 0 actor | Selected 1 actor | Selected {n} actors | Selected {n} actors",clearList:"Remove all actors",appendToList:"Append from actor set",appendToSet:"Append to actor set",showAll:"Show all actors",excludeMovies:"Exclude actors in set"},movie:{placeholder:"Input movie name",emptyPlaceholder:"Start writing movie name",notFoundPlaceholder:"Movies were not found",genres:"Genres",movieName:"Movie name",selectedNMovies:"Selected 0 movie | Selected 1 movie | Selected {n} movies | Selected {n} movies",trailer:"trailer",findTrailer:"Find trailer",clearList:"Remove all movies",appendToList:"Append from movie set",appendToSet:"Append to movie set",showAll:"Show all movies",excludeMovies:"Exclude movies in set"},paginator:{previous:"Previous",next:"Next"},filter:{filters:"Filters",chooseGenresToInclude:"Choose genres",chooseGenresToExclude:"Choose genres to exclude",year:"Year:",validYearRange:"Valid year range is {min} - {max}",sort:"Sorting",sortBy:"Sort by"},general:{popularity:"Popularity",vote:"Vote",chooseOptions:"Choose options...",year:"Year",showDetails:"Show details...",andOthers:"and others",nTimes:"0 time | 1 time | {n} times | {n} times",recommended:"Recommended",loading:"Loading...",startSearch:"Start search"},set:{import:"Import from file",export:"Export to file",add:"Add to set",remove:"Remove from set"},pages:{movieSet:"Movie set",actorSet:"Actor set",searchByActors:"Search by actors",searchByMovies:"Search by movies",searchActorsByMovies:"Search actors by movies"}}),Object(d["a"])(p,r.RU,{lang:"Русский",siteName:"Поисковик фильмов",message:{cache_warning:"Сайт не хранит пользовательские данные.<br/>Коллекции не синхронизируется с другими устройствами и будут безвозвратно утерян после обновления страницы!"},actor:{placeholder:"Введите имя актёра",emptyPlaceholder:"Начните вводить имя актёра",notFoundPlaceholder:"Актёры не найдены",nActors:"0 актёров | 1 актёр | {n} актёра | {n} актёров",actorName:"Имя актёра",selectedNActors:"Выбрано 0 актёров | Выбран 1 актёр | Выбрано {n} актёра | Выбрано {n} актёров",clearList:"Очистить список актёров",appendToList:"Добавить из коллекции",appendToSet:"Добавить в коллекцию",showAll:"Показать всех актёров",excludeMovies:"Исключить актёров в коллекции"},movie:{placeholder:"Введите название фильма",emptyPlaceholder:"Начните вводить название фильма",notFoundPlaceholder:"Фильмы не найдены",genres:"Жанры",movieName:"Название фильма",selectedNMovies:"Выбрано 0 фильмов | Выбран 1 фильм | Выбрано {n} фильма | Выбрано {n} фильмов",trailer:"трейлер",findTrailer:"Найти трейлер",clearList:"Очистить список фильмов",appendToList:"Добавить из коллекции",appendToSet:"Добавить в коллекцию",showAll:"Показать все фильмы",excludeMovies:"Исключить фильмы в коллекции"},paginator:{previous:"Предыдущая",next:"Следующая"},filter:{filters:"Фильтры",chooseGenresToInclude:"Выберите жанры",chooseGenresToExclude:"Выберите жанры для исключения",year:"Год:",validYearRange:"Валидный промежуток {min} - {max} лет",sort:"Сортировка",sortBy:"Сортировать по"},general:{popularity:"Популярность",vote:"Рейтинг",chooseOptions:"Выберите поле...",year:"Год",showDetails:"Подробнее...",andOthers:"и другие",nTimes:"0 раз | 1 раз | {n} раза | {n} раз",recommended:"Рекомендован",selected:"Выбрано",loading:"Загрузка...",startSearch:"Начать поиск"},set:{import:"Загрузить из файла",export:"Выгрузить в файл",add:"Добавить в коллекцию",remove:"Удалить из коллекции"},pages:{movieSet:"Коллекция фильмов",actorSet:"Коллекция актёров",searchByActors:"Поиск по актёрам",searchByMovies:"Поиск по фильмам",searchActorsByMovies:"Поиск актёров по фильмам"}}),p);function h(e,t){return e.find((function(e){return t.startsWith(e)}))}s["a"].prototype.getChoiceIndex=function(e,t){switch(this.locale){case r.RU:if(0===e)return 0;var n=e>10&&e<20,a=e%10===1;return!n&&a?1:!n&&e%10>=2&&e%10<=4||t<4?2:3;default:return e>=2?2:1===e?1:0}};var f="lang";function m(){var e,t=Object.keys(v),n=l(f);if(n&&(e=h(t,n)),void 0===e)if(window.navigator.languages){var a,s=Object(i["a"])(window.navigator.languages);try{for(s.s();!(a=s.n()).done;){var o=a.value,c=h(t,o);if(c){e=c;break}}}catch(p){s.e(p)}finally{s.f()}}else{var u=h(t,window.navigator.userLanguage||window.navigator.language);u&&(e=u)}return void 0===e?r.EN:e}function g(e,t){u(f,e,{"max-age":2592e3}),t.locale=e}a["a"].use(s["a"]);var b=new s["a"]({locale:m(),fallbackLocale:r.EN,messages:v}),y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("NavBar",{attrs:{siteName:e.siteName,"current-page":e.currentPage.name,pages:e.pages.map((function(e){return e.name}))},on:{onChange:e.navigate}}),n("div",{staticClass:"m-1",attrs:{role:"main"}},[n("keep-alive",[n(e.currentPage.component,{tag:"component"})],1)],1)],1)},O=[],j=n("d4ec"),k=n("bee2"),_=n("262e"),x=n("2caf"),w=(n("b0c0"),n("9ab4")),S=n("1b40"),C=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-dark"},[r("a",{staticClass:"navbar-brand",attrs:{href:"/"}},[e._v(e._s(e.$t(e.siteName)))]),r("button",{staticClass:"navbar-toggler",attrs:{type:"button"},on:{click:function(t){e.showMenu=!e.showMenu}}},[r("span",{staticClass:"navbar-toggler-icon"})]),r("div",{staticClass:"collapse navbar-collapse",class:{show:e.showMenu}},[r("ul",{staticClass:"navbar-nav mr-auto"},e._l(e.pages,(function(t){return r("li",{key:t,staticClass:"nav-item mr-2",class:{active:t===e.currentPage}},[r("a",{staticClass:"nav-link",class:{disabled:t===e.currentPage},attrs:{href:"#"},on:{click:function(n){return n.preventDefault(),e.onChange(t)}}},[e._v(" "+e._s(e.$t(t))+" ")])])})),0),r("div",{staticClass:"d-inline-block"},[r("img",{staticClass:"flag mx-2",attrs:{src:n("bc04"),alt:"en",title:"English"},on:{click:function(t){return e.changeLocale("en")}}}),r("img",{staticClass:"flag mx-2",attrs:{src:n("66d9"),alt:"ru",title:"Русский"},on:{click:function(t){return e.changeLocale("ru")}}})])])])},M=[],R=n("91dc"),P=n("2f62");a["a"].use(P["a"]);var A=new P["a"].Store({}),$=Object(R["createModule"])("general",{state:{lang:b.locale},mutations:{changeLocale:function(e,t){g(t,b),e.lang=t}}});$.register(A);var F=function(e){Object(_["a"])(n,e);var t=Object(x["a"])(n);function n(){var e;return Object(j["a"])(this,n),e=t.apply(this,arguments),e.showMenu=!1,e}return Object(k["a"])(n,[{key:"onChange",value:function(e){}},{key:"changeLocale",value:function(e){$.mutations.changeLocale(e)}}]),n}(S["d"]);Object(w["a"])([Object(S["c"])()],F.prototype,"siteName",void 0),Object(w["a"])([Object(S["c"])()],F.prototype,"pages",void 0),Object(w["a"])([Object(S["c"])()],F.prototype,"currentPage",void 0),Object(w["a"])([Object(S["b"])("onChange")],F.prototype,"onChange",null),F=Object(w["a"])([S["a"]],F);var T=F,E=T,D=(n("f702"),n("2877")),L=Object(D["a"])(E,C,M,!1,null,"c88040f2",null),N=L.exports,U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"alert alert-secondary my-3 mx-2",domProps:{innerHTML:e._s(e.$t("message.cache_warning"))}}),n("ActorSelector",{attrs:{setActions:!1},model:{value:e.selectedActors,callback:function(t){e.selectedActors=t},expression:"selectedActors"}}),n("div",{staticClass:"my-3 text-center"},[e.inProgress?e._e():n("button",{staticClass:"btn btn-success mt-3 mb-1 d-inline-block",attrs:{type:"button"},on:{click:e.onImport}},[e._v(" "+e._s(e.$t("set.import"))+" ")]),n("br"),!e.inProgress&&e.selectedActors.length>0?n("button",{staticClass:"btn btn-success mb-3 d-inline-block",attrs:{type:"button"},on:{click:e.onExport}},[e._v(" "+e._s(e.$t("set.export"))+" ")]):e._e()]),e.inProgress?n("ModalProgress",{attrs:{ready:e.progress[0],total:e.progress[1]}}):e._e()],1)},G=[],I=n("1da1"),B=(n("96cf"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"modal show d-block",attrs:{tabindex:"-1"}},[n("div",{staticClass:"modal-dialog modal-dialog-centered modal-xl"},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-body"},[n("div",{staticClass:"progress"},[n("div",{staticClass:"progress-bar progress-bar-striped progress-bar-animated",style:{width:e.progress+"%"}},[e._v(" "+e._s(e.progress+"%")+" ")])]),n("div",{staticClass:"text-center mt-1"},[e._v(e._s(e.ready)+" / "+e._s(e.total))]),n("div",{staticClass:"text-center mt-3"},[e._v(e._s(e.$t("general.loading")))])])])])]),n("div",{staticClass:"modal-backdrop show"})])}),V=[],z=function(e){Object(_["a"])(n,e);var t=Object(x["a"])(n);function n(){return Object(j["a"])(this,n),t.apply(this,arguments)}return Object(k["a"])(n,[{key:"progress",get:function(){return Math.floor(100*this.ready/this.total)}}]),n}(S["d"]);Object(w["a"])([Object(S["c"])()],z.prototype,"ready",void 0),Object(w["a"])([Object(S["c"])()],z.prototype,"total",void 0),z=Object(w["a"])([S["a"]],z);var q=z,Y=q,H=Object(D["a"])(Y,B,V,!1,null,"3e37a0a0",null),K=H.exports,X=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._v(" "+e._s(e.$t("actor.actorName"))+": "),r("ItemSelector",{staticClass:"d-inline-block",staticStyle:{"max-width":"600px"},attrs:{suggest:e.suggest,changeDebounceTime:500,placeholder:e.$t("actor.placeholder"),emptyPlaceholder:e.$t("actor.emptyPlaceholder"),notFoundPlaceholder:e.$t("actor.notFoundPlaceholder")},on:{onSelect:e.onSelect},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",{staticClass:"d-inline-block align-middle mr-2"},[t.item.poster?r("img",{staticClass:"option__image",attrs:{src:t.item.poster,alt:t.item.name}}):r("img",{staticClass:"option__image",attrs:{src:n("fa1d"),alt:t.item.name}})]),r("div",{staticClass:"option__desc d-inline-block align-middle"},[r("div",{staticClass:"option__title font-weight-bold h3"},[e._v(e._s(t.item.name))]),r("div",{staticClass:"option__small text-muted"},[e._v(" "+e._s(e.$t("general.popularity"))+": "+e._s(t.item.popularity)+" ")])])]}}])}),r("div",{staticClass:"my-1 text-center"},[e.value.length>0?r("button",{staticClass:"btn btn-danger d-inline-block mx-2",attrs:{type:"button"},on:{click:e.onClear}},[e._v(" "+e._s(e.$t("actor.clearList"))+" ")]):e._e(),e.setActions&&e.actorSet.length>0?r("button",{staticClass:"btn btn-success d-inline-block mx-2",attrs:{type:"button"},on:{click:e.onAppendFromSet}},[e._v(" "+e._s(e.$t("actor.appendToList"))+" ")]):e._e(),e.setActions&&e.value.length>0?r("button",{staticClass:"btn btn-success d-inline-block mx-2",attrs:{type:"button"},on:{click:e.onAppendToSet}},[e._v(" "+e._s(e.$t("actor.appendToSet"))+" ")]):e._e()]),e.value.length>0?r("div",{staticClass:"my-3"},[r("h5",[e._v(e._s(e.$tc("actor.selectedNActors",e.value.length))+":")]),r("div",{staticClass:"d-flex flex-row flex-wrap justify-content-around"},e._l(e.value,(function(t){return r("PersonView",{key:t.id,staticStyle:{width:"200px"},attrs:{person:t},on:{onDelete:e.onDelete}})})),1)]):e._e()],1)},J=[],W=n("2909"),Q=(n("4e82"),n("4de4"),n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("d81d"),n("d7a8")),Z=n("8868");n("fb6a"),n("a15b");function ee(e,t){return te.apply(this,arguments)}function te(){return te=Object(I["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=n?"?".concat(Object.entries(n).map((function(e){var t=Object(o["a"])(e,2),n=t[0],r=t[1];return"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(r))})).join("&")):"",e.prev=1,e.next=4,fetch(t+r);case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e["catch"](1),console.error(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,7]])}))),te.apply(this,arguments)}function ne(e){return re.apply(this,arguments)}function re(){return re=Object(I["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,t)}));case 2:case"end":return e.stop()}}),e)}))),re.apply(this,arguments)}function ae(e,t){return ie.apply(this,arguments)}function ie(){return ie=Object(Z["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,i,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=s.length>2&&void 0!==s[2]?s[2]:200,a=0;case 2:if(!(a<t.length)){e.next=11;break}return i=t.slice(a,a+n).map((function(e){return e()})),e.next=6,Promise.all(i);case 6:return e.next=8,Object(Q["a"])(ne(r));case 8:a+=n,e.next=2;break;case 11:case"end":return e.stop()}}),e)}))),ie.apply(this,arguments)}var se=function e(t,n){Object(j["a"])(this,e),this.id=t,this.name=n},oe=function e(t,n){Object(j["a"])(this,e),this.id=t,this.name=n},ce=function e(t,n,r,a,i,s,o,c,u){Object(j["a"])(this,e),this.id=t,this.title=n,this.overview=r,this.genres=a,this.popularity=i,this.poster=s,this.voteCount=o,this.voteAverage=c,this.releaseDate=u},ue=function(){function e(t,n,r,a,i,s,o,c,u){Object(j["a"])(this,e),this.id=t,this.title=n,this.overview=r,this.genres=a,this.popularity=i,this.poster=s,this.voteCount=o,this.voteAverage=c,this.releaseDate=u}return Object(k["a"])(e,[{key:"toMovie",value:function(){return new ce(this.id,this.title,this.overview,this.genres.map((function(e){return new oe(e.id,e.name)})),this.popularity,this.poster,this.voteCount,this.voteAverage,this.releaseDate)}}]),e}(),le=function e(t,n,r,a){Object(j["a"])(this,e),this.id=t,this.name=n,this.popularity=r,this.poster=a},pe=function(){function e(t,n,r,a){Object(j["a"])(this,e),this.id=t,this.name=n,this.popularity=r,this.poster=a}return Object(k["a"])(e,[{key:"toPerson",value:function(){return new le(this.id,this.name,this.popularity,this.poster)}}]),e}(),de=function(){function e(){Object(j["a"])(this,e),this.genres=new Map}return Object(k["a"])(e,[{key:"getMovieUrl",value:function(t,n){return new URL("".concat(e.host,"/movie/").concat(t,"?language=").concat(n))}},{key:"getPersonUrl",value:function(t,n){return new URL("".concat(e.host,"/person/").concat(t,"?language=").concat(n))}},{key:"searchPerson",value:function(){var t=Object(I["a"])(regeneratorRuntime.mark((function t(n,r){var a,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getRequest("".concat(e.apiHost,"/search/person"),{api_key:e.apiKey,language:r,include_adult:"true",query:n});case 2:if(a=t.sent,!(a.total_results>0)){t.next=5;break}return t.abrupt("return",a.results.map((function(e){return i.responseToPerson(e)})));case 5:return t.abrupt("return",[]);case 6:case"end":return t.stop()}}),t,this)})));function n(e,n){return t.apply(this,arguments)}return n}()},{key:"searchMovie",value:function(){var t=Object(I["a"])(regeneratorRuntime.mark((function t(n,r){var a,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getRequest("".concat(e.apiHost,"/search/movie"),{api_key:e.apiKey,language:r,include_adult:"true",query:n});case 2:if(a=t.sent,!(a.total_results>0)){t.next=5;break}return t.abrupt("return",Promise.all(a.results.map(function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",i.responseToMovie(t,r));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())));case 5:return t.abrupt("return",[]);case 6:case"end":return t.stop()}}),t,this)})));function n(e,n){return t.apply(this,arguments)}return n}()},{key:"getPerson",value:function(){var t=Object(I["a"])(regeneratorRuntime.mark((function t(n,r){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getRequest("".concat(e.apiHost,"/person/").concat(n),{api_key:e.apiKey,language:r});case 2:if(a=t.sent,void 0===a.id){t.next=5;break}return t.abrupt("return",this.responseToPerson(a));case 5:return t.abrupt("return",void 0);case 6:case"end":return t.stop()}}),t,this)})));function n(e,n){return t.apply(this,arguments)}return n}()},{key:"getMovie",value:function(){var t=Object(I["a"])(regeneratorRuntime.mark((function t(n,r){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getRequest("".concat(e.apiHost,"/movie/").concat(n),{api_key:e.apiKey,language:r});case 2:if(a=t.sent,void 0===a.id){t.next=5;break}return t.abrupt("return",this.responseToMovie(a,r));case 5:return t.abrupt("return",void 0);case 6:case"end":return t.stop()}}),t,this)})));function n(e,n){return t.apply(this,arguments)}return n}()},{key:"getRecommendations",value:function(){var t=Object(I["a"])(regeneratorRuntime.mark((function t(n,r){var a,i,s,o=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=function(t){return o.getRequest("".concat(e.apiHost,"/movie/").concat(n,"/recommendations"),{api_key:e.apiKey,language:r,page:t.toString()})},i=function(e){return e.total_pages},s=function(e){return e.results.map(function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",o.responseToMovie(t,r));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},t.abrupt("return",this.fetchAllPages(a,i,s));case 4:case"end":return t.stop()}}),t,this)})));function n(e,n){return t.apply(this,arguments)}return n}()},{key:"searchPersonsByMovie",value:function(){var t=Object(I["a"])(regeneratorRuntime.mark((function t(n,r){var a,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getRequest("".concat(e.apiHost,"/movie/").concat(n,"/credits"),{api_key:e.apiKey,language:r});case 2:return a=t.sent,t.abrupt("return",a.cast.filter((function(e){return"Acting"===e.known_for_department})).sort((function(e,t){return e.order-t.order})).map((function(e){return i.responseToPerson(e)})));case 4:case"end":return t.stop()}}),t,this)})));function n(e,n){return t.apply(this,arguments)}return n}()},{key:"searchMoviesByPerson",value:function(){var t=Object(I["a"])(regeneratorRuntime.mark((function t(n,r){var a,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getRequest("".concat(e.apiHost,"/person/").concat(n,"/movie_credits"),{api_key:e.apiKey,language:r});case 2:return a=t.sent,t.abrupt("return",Promise.all(a.cast.map(function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",i.responseToMovie(t,r));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())));case 4:case"end":return t.stop()}}),t,this)})));function n(e,n){return t.apply(this,arguments)}return n}()},{key:"getGenres",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this.genres.get(t),n||(n=this.requestGenres(t),this.genres.set(t,n)),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"requestGenres",value:function(){var t=Object(I["a"])(regeneratorRuntime.mark((function t(n){var r,a,s,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getRequest("".concat(e.apiHost,"/genre/movie/list"),{api_key:e.apiKey,language:n});case 2:r=t.sent,a=new Map,s=Object(i["a"])(r.genres);try{for(s.s();!(o=s.n()).done;)c=o.value,a.set(c.id,new se(c.id,c.name))}catch(u){s.e(u)}finally{s.f()}return t.abrupt("return",a);case 7:case"end":return t.stop()}}),t,this)})));function n(e){return t.apply(this,arguments)}return n}()},{key:"getRequest",value:function(){var t=Object(I["a"])(regeneratorRuntime.mark((function t(n,r){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=3,ee(n,r);case 3:if(a=t.sent,429===a.status){t.next=6;break}return t.abrupt("return",a.json());case 6:return t.next=8,ne(e.timeout);case 8:t.next=0;break;case 10:case"end":return t.stop()}}),t)})));function n(e,n){return t.apply(this,arguments)}return n}()},{key:"responseToPerson",value:function(t){return new pe(t.id,t.name,t.popularity,t.profile_path?new URL("".concat(e.posterPathRoot,"/").concat(t.profile_path)):void 0)}},{key:"responseToMovie",value:function(){var t=Object(I["a"])(regeneratorRuntime.mark((function t(n,r){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getGenres(r);case 2:return a=t.sent,i=void 0!==n.genres?n.genres.map((function(e){return a.get(e.id)})):n.genre_ids.map((function(e){return a.get(e)})),t.abrupt("return",new ue(n.id,n.title,n.overview,i,n.popularity,n.poster_path?new URL("".concat(e.posterPathRoot,"/").concat(n.poster_path)):void 0,n.vote_count,n.vote_average,new Date(n.release_date)));case 5:case"end":return t.stop()}}),t,this)})));function n(e,n){return t.apply(this,arguments)}return n}()},{key:"fetchAllPages",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,i,s,o,c,u=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=u.length>3&&void 0!==u[3]?u[3]:void 0,i=u.length>4&&void 0!==u[4]?u[4]:1,e.next=4,t(i);case 4:return s=e.sent,o=n(s)>i&&(void 0===a||a>=i)?this.fetchAllPages(t,n,r,a,i+1):new Promise((function(e){return e([])})),e.next=8,Promise.all(r(s));case 8:return c=e.sent,e.t0=c,e.next=12,o;case 12:return e.t1=e.sent,e.abrupt("return",e.t0.concat.call(e.t0,e.t1));case 14:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()}]),e}();de.apiKey="3706398aaf547b46e616831a46402288",de.apiHost="https://api.themoviedb.org/3",de.posterPathRoot="https://image.tmdb.org/t/p/w500/",de.timeout=3e3,de.host="https://www.themoviedb.org";var ve=new de,he=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card m-2"},[r("button",{staticClass:"close position-absolute p-2",staticStyle:{top:"0",right:"0"},attrs:{type:"button"},on:{click:function(t){return e.onDelete(e.person)}}},[r("span",[e._v("×")])]),r("div",[r("a",{attrs:{href:e.getUrl(e.person.id),target:"_blank"}},[e.person.poster?r("img",{staticClass:"card-img-top m-auto d-inline-block w-auto",attrs:{src:e.person.poster,alt:e.person.name}}):r("img",{staticClass:"card-img-top m-auto d-inline-block w-auto",attrs:{src:n("fa1d"),alt:e.person.name}})])]),r("div",{staticClass:"card-body"},[r("p",{staticClass:"card-text"},[e._v(e._s(e.person.name))])])])},fe=[],me=function(e){Object(_["a"])(n,e);var t=Object(x["a"])(n);function n(){var e;return Object(j["a"])(this,n),e=t.apply(this,arguments),e.api=ve,e}return Object(k["a"])(n,[{key:"lang",get:function(){return $.state.lang}},{key:"getUrl",value:function(e){return this.api.getPersonUrl(e,this.lang)}},{key:"onDelete",value:function(e){}}]),n}(S["d"]);Object(w["a"])([Object(S["c"])()],me.prototype,"person",void 0),Object(w["a"])([Object(S["b"])("onDelete")],me.prototype,"onDelete",null),me=Object(w["a"])([S["a"]],me);var ge=me,be=ge,ye=(n("5dd6"),Object(D["a"])(be,he,fe,!1,null,"584e0451",null)),Oe=ye.exports,je=Object(R["createModule"])("actor-set",{namespaced:!0,state:{selectedActors:[]},mutations:{setActors:function(e,t){e.selectedActors=t}}});je.register(A);var ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("multiselect",{attrs:{loading:e.isLoading,"internal-search":!1,placeholder:e.placeholder,options:e.items,"option-height":104,"show-labels":!1,preserveSearch:!0},on:{"search-change":e.onChangeDebounce,select:e.onSelect},scopedSlots:e._u([{key:"option",fn:function(t){return[e._t("default",null,{item:t.option})]}},{key:"noOptions",fn:function(){return[e._v(e._s(e.emptyPlaceholder))]},proxy:!0},{key:"noResult",fn:function(){return[e._v(e._s(e.notFoundPlaceholder))]},proxy:!0}],null,!0)})},_e=[],xe=n("b012"),we=n("8e5f"),Se=n.n(we),Ce=(n("e607"),function(e){Object(_["a"])(n,e);var t=Object(x["a"])(n);function n(){var e;return Object(j["a"])(this,n),e=t.apply(this,arguments),e.isLoading=!1,e.items=[],e}return Object(k["a"])(n,[{key:"created",value:function(){this.changeDebounceTime?this.onChangeDebounce=Object(xe["debounce"])(this.onSearchCustom,this.changeDebounceTime):this.onChangeDebounce=this.onSearchCustom}},{key:"beforeDestroy",value:function(){this.onChangeDebounce.clear&&this.onChangeDebounce.clear()}},{key:"onSearchCustom",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.isLoading){e.next=9;break}return e.prev=1,this.isLoading=!0,e.next=5,this.suggest(t);case 5:this.items=e.sent;case 6:return e.prev=6,this.isLoading=!1,e.finish(6);case 9:case"end":return e.stop()}}),e,this,[[1,,6,9]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onSelect",value:function(e){}}]),n}(S["d"]));Object(w["a"])([Object(S["c"])()],Ce.prototype,"placeholder",void 0),Object(w["a"])([Object(S["c"])()],Ce.prototype,"emptyPlaceholder",void 0),Object(w["a"])([Object(S["c"])()],Ce.prototype,"notFoundPlaceholder",void 0),Object(w["a"])([Object(S["c"])()],Ce.prototype,"suggest",void 0),Object(w["a"])([Object(S["c"])()],Ce.prototype,"changeDebounceTime",void 0),Object(w["a"])([Object(S["b"])("onSelect")],Ce.prototype,"onSelect",null),Ce=Object(w["a"])([Object(S["a"])({components:{Multiselect:Se.a}})],Ce);var Me=Ce,Re=Me,Pe=Object(D["a"])(Re,ke,_e,!1,null,"eadcdf5c",null),Ae=Pe.exports,$e=function(e){Object(_["a"])(n,e);var t=Object(x["a"])(n);function n(){var e;return Object(j["a"])(this,n),e=t.apply(this,arguments),e.api=ve,e}return Object(k["a"])(n,[{key:"lang",get:function(){return $.state.lang}},{key:"actorSet",get:function(){return je.state.selectedActors}},{key:"suggest",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,this.api.searchPerson(t,this.lang);case 4:return e.abrupt("return",e.sent.sort((function(e,t){return t.popularity-e.popularity})));case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"input",value:function(e){}},{key:"onSelect",value:function(e){var t=this.value.find((function(t){return t.id===e.id}));void 0===t&&this.input([].concat(Object(W["a"])(this.value),[e]))}},{key:"onDelete",value:function(e){var t=this.value.find((function(t){return t.id===e.id}));void 0!==t&&this.input(this.value.filter((function(t){return t.id!==e.id})))}},{key:"onClear",value:function(){this.value.length>0&&this.input([])}},{key:"onAppendFromSet",value:function(){var e,t=Object(W["a"])(this.value),n=Object(i["a"])(this.actorSet);try{var r=function(){var n=e.value,r=t.find((function(e){return e.id===n.id}));void 0===r&&t.push(n)};for(n.s();!(e=n.n()).done;)r()}catch(a){n.e(a)}finally{n.f()}this.value.length!==t.length&&this.input(t)}},{key:"onAppendToSet",value:function(){var e,t=Object(W["a"])(this.actorSet),n=Object(i["a"])(this.value);try{var r=function(){var n=e.value,r=t.find((function(e){return e.id===n.id}));void 0===r&&t.push(n)};for(n.s();!(e=n.n()).done;)r()}catch(a){n.e(a)}finally{n.f()}this.actorSet.length!==t.length&&je.mutations.setActors(t)}}]),n}(S["d"]);Object(w["a"])([Object(S["c"])()],$e.prototype,"value",void 0),Object(w["a"])([Object(S["c"])()],$e.prototype,"setActions",void 0),Object(w["a"])([Object(S["b"])("input")],$e.prototype,"input",null),$e=Object(w["a"])([Object(S["a"])({components:{ItemSelector:Ae,PersonView:Oe}})],$e);var Fe=$e,Te=Fe,Ee=(n("620c"),Object(D["a"])(Te,X,J,!1,null,"2942639a",null)),De=Ee.exports,Le=n("668b"),Ne=(n("6062"),n("5db2"));function Ue(e){return Object(Ne["b"])(e)}function Ge(e){return Object(Ne["a"])(e)}function Ie(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text/plain",r=new Blob([e],{type:n}),a=document.createElement("a"),i=URL.createObjectURL(r);a.href=i,a.download=t,document.body.appendChild(a),a.click(),setTimeout((function(){document.body.removeChild(a),window.URL.revokeObjectURL(i)}),0)}function Be(){return Ve.apply(this,arguments)}function Ve(){return Ve=Object(I["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=document.createElement("input"),t.setAttribute("type","file"),t.style.display="none",document.body.append(t),e.abrupt("return",new Promise((function(e,n){var r=function r(a){var i=a.target.files;i&&i.length?e(i[0]):n(),t.removeEventListener("change",r),t.remove()};t.addEventListener("change",r),t.click()})));case 5:case"end":return e.stop()}}),e)}))),Ve.apply(this,arguments)}function ze(){return qe.apply(this,arguments)}function qe(){return qe=Object(I["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Be().then((function(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(e){var r;(null===(r=e.target)||void 0===r?void 0:r.readyState)===FileReader.DONE?t(e.target.result):n()},r.readAsText(e)}))})));case 1:case"end":return e.stop()}}),e)}))),qe.apply(this,arguments)}var Ye=function(){function e(){Object(j["a"])(this,e),this.api=ve}return Object(k["a"])(e,[{key:"exportToFile",value:function(){var t=Object(I["a"])(regeneratorRuntime.mark((function t(n,r,a,s){var o,c,u,l,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:o=[[e.ID_COLUMN,"Name"]],c=Object(i["a"])(n);try{for(c.s();!(u=c.n()).done;)l=u.value,o.push([a(l),s(l)])}catch(d){c.e(d)}finally{c.f()}p=Ue(o),Ie(e.UTF8_BOM+p,r,"text/csv");case 5:case"end":return t.stop()}}),t)})));function n(e,n,r,a){return t.apply(this,arguments)}return n}()},{key:"importFromFile",value:function(){var t=Object(I["a"])(regeneratorRuntime.mark((function t(n,r){var a,s,o,c,u,l,p,d,v,h,f,m,g,b,y,O,j,k;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ze();case 2:if(a=t.sent,s=Ge(a),o=s.shift(),c=null===o||void 0===o?void 0:o.indexOf(e.ID_COLUMN),!(void 0!==c&&c>=0)){t.next=46;break}u=new Set,l=/^[0-9]+$/,p=Object(i["a"])(s);try{for(p.s();!(d=p.n()).done;)v=d.value,v.length>c&&l.test(v[c])&&u.add(parseInt(v[c],10))}catch(_){p.e(_)}finally{p.f()}if(!(u.size>0)){t.next=46;break}h=Object(W["a"])(u).map((function(e){return function(){return n(e)}})),f=h.length,r.update(0,f),m=[],g=!1,b=!1,t.prev=18,O=Object(Le["a"])(ae(h,e.MAX_ACTIONS));case 20:return t.next=22,O.next();case 22:if(!(g=!(j=t.sent).done)){t.next=29;break}k=j.value,m.push.apply(m,Object(W["a"])(k)),r.update(m.length,f);case 26:g=!1,t.next=20;break;case 29:t.next=35;break;case 31:t.prev=31,t.t0=t["catch"](18),b=!0,y=t.t0;case 35:if(t.prev=35,t.prev=36,!g||null==O.return){t.next=40;break}return t.next=40,O.return();case 40:if(t.prev=40,!b){t.next=43;break}throw y;case 43:return t.finish(40);case 44:return t.finish(35);case 45:return t.abrupt("return",m.filter((function(e){return void 0!==e})));case 46:return t.abrupt("return",void 0);case 47:case"end":return t.stop()}}),t,null,[[18,31,35,45],[36,,40,44]])})));function n(e,n){return t.apply(this,arguments)}return n}()},{key:"exportPersonSetToFile",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.exportToFile(t,n,(function(e){return e.id.toString()}),(function(e){return e.name}));case 1:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"importPersonSetFromFile",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t,n){var r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.importFromFile((function(e){return r.api.getPerson(e,t).then((function(e){return null===e||void 0===e?void 0:e.toPerson()}))}),n));case 1:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"exportMovieSetToFile",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.exportToFile(t,n,(function(e){return e.id.toString()}),(function(e){return e.title}));case 1:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"importMovieSetFromFile",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t,n){var r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.importFromFile((function(e){return r.api.getMovie(e,t).then((function(e){return null===e||void 0===e?void 0:e.toMovie()}))}),n));case 1:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),e}();Ye.MAX_ACTIONS=5,Ye.ID_COLUMN="ID",Ye.UTF8_BOM="\ufeff";var He=new Ye,Ke=function(e){Object(_["a"])(n,e);var t=Object(x["a"])(n);function n(){var e;return Object(j["a"])(this,n),e=t.apply(this,arguments),e.setService=He,e.progress=null,e}return Object(k["a"])(n,[{key:"selectedActors",get:function(){return je.state.selectedActors},set:function(e){je.mutations.setActors(e)}},{key:"lang",get:function(){return $.state.lang}},{key:"inProgress",get:function(){return null!==this.progress}},{key:"onImport",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(){var t,n,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.progress=[0,100],t={update:function(e,t){r.progress=[e,t]}},e.next=5,this.setService.importPersonSetFromFile(this.lang,t);case 5:n=e.sent,void 0!==n&&(this.selectedActors=n);case 7:return e.prev=7,this.progress=null,e.finish(7);case 10:case"end":return e.stop()}}),e,this,[[0,,7,10]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"onExport",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.selectedActors.length>0&&this.setService.exportPersonSetToFile(this.selectedActors,"actors.csv");case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(S["d"]);Ke=Object(w["a"])([Object(S["a"])({components:{ActorSelector:De,ModalProgress:K}})],Ke);var Xe=Ke,Je=Xe,We=Object(D["a"])(Je,U,G,!1,null,"27fef91c",null),Qe=We.exports,Ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"alert alert-secondary my-3 mx-2",domProps:{innerHTML:e._s(e.$t("message.cache_warning"))}}),n("MovieSelector",{attrs:{setActions:!1},model:{value:e.selectedMovies,callback:function(t){e.selectedMovies=t},expression:"selectedMovies"}}),n("div",{staticClass:"my-3 text-center"},[e.inProgress?e._e():n("button",{staticClass:"btn btn-success mt-3 mb-1 d-inline-block",attrs:{type:"button"},on:{click:e.onImport}},[e._v(" "+e._s(e.$t("set.import"))+" ")]),n("br"),!e.inProgress&&e.selectedMovies.length>0?n("button",{staticClass:"btn btn-success mb-3 d-inline-block",attrs:{type:"button"},on:{click:e.onExport}},[e._v(" "+e._s(e.$t("set.export"))+" ")]):e._e()]),e.inProgress?n("ModalProgress",{attrs:{ready:e.progress[0],total:e.progress[1]}}):e._e()],1)},et=[],tt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._v(" "+e._s(e.$t("movie.movieName"))+": "),r("ItemSelector",{staticClass:"d-inline-block",staticStyle:{"max-width":"600px"},attrs:{suggest:e.suggest,changeDebounceTime:500,placeholder:e.$t("movie.placeholder"),emptyPlaceholder:e.$t("movie.emptyPlaceholder"),notFoundPlaceholder:e.$t("movie.notFoundPlaceholder")},on:{onSelect:e.onSelect},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",{staticClass:"d-inline-block align-middle mr-2"},[t.item.poster?r("img",{staticClass:"option__image",attrs:{src:t.item.poster,alt:t.item.title}}):r("img",{staticClass:"option__image",attrs:{src:n("071f"),alt:t.item.title}})]),r("div",{staticClass:"option__desc d-inline-block align-middle"},[r("div",{staticClass:"option__title font-weight-bold h3"},[e._v(e._s(t.item.title))]),r("div",{staticClass:"option__small text-muted"},[e._v(" "+e._s(e.$t("general.popularity"))+": "+e._s(t.item.popularity)+" ")])])]}}])}),r("div",{staticClass:"my-1 text-center"},[e.value.length>0?r("button",{staticClass:"btn btn-danger d-inline-block mx-2",attrs:{type:"button"},on:{click:e.onClear}},[e._v(" "+e._s(e.$t("movie.clearList"))+" ")]):e._e(),e.setActions&&e.movieSet.length>0?r("button",{staticClass:"btn btn-success d-inline-block mx-2",attrs:{type:"button"},on:{click:e.onAppendFromSet}},[e._v(" "+e._s(e.$t("movie.appendToList"))+" ")]):e._e(),e.setActions&&e.value.length>0?r("button",{staticClass:"btn btn-success d-inline-block mx-2",attrs:{type:"button"},on:{click:e.onAppendToSet}},[e._v(" "+e._s(e.$t("movie.appendToSet"))+" ")]):e._e()]),e.value.length>0?r("div",{staticClass:"my-3"},[r("h5",[e._v(e._s(e.$tc("movie.selectedNMovies",e.value.length))+":")]),r("div",{staticClass:"d-flex flex-row flex-wrap justify-content-around"},e._l(e.value,(function(t){return r("MovieView",{key:t.id,staticStyle:{width:"200px"},attrs:{movie:t},on:{onDelete:e.onDelete}})})),1)]):e._e()],1)},nt=[],rt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card m-2"},[r("button",{staticClass:"close position-absolute p-2",staticStyle:{top:"0",right:"0"},attrs:{type:"button"},on:{click:function(t){return e.onDelete(e.movie)}}},[r("span",[e._v("×")])]),r("div",[r("a",{attrs:{href:e.getUrl(e.movie.id),target:"_blank"}},[e.movie.poster?r("img",{staticClass:"card-img-top m-auto d-inline-block w-auto",attrs:{src:e.movie.poster,alt:e.movie.title}}):r("img",{staticClass:"card-img-top m-auto d-inline-block w-auto",attrs:{src:n("071f"),alt:e.movie.title}})])]),r("div",{staticClass:"card-body"},[r("p",{staticClass:"card-text"},[e._v(e._s(e.movie.title))])])])},at=[],it=function(e){Object(_["a"])(n,e);var t=Object(x["a"])(n);function n(){var e;return Object(j["a"])(this,n),e=t.apply(this,arguments),e.api=ve,e}return Object(k["a"])(n,[{key:"lang",get:function(){return $.state.lang}},{key:"getUrl",value:function(e){return this.api.getMovieUrl(e,this.lang)}},{key:"onDelete",value:function(e){}}]),n}(S["d"]);Object(w["a"])([Object(S["c"])()],it.prototype,"movie",void 0),Object(w["a"])([Object(S["b"])("onDelete")],it.prototype,"onDelete",null),it=Object(w["a"])([S["a"]],it);var st=it,ot=st,ct=(n("e03a"),Object(D["a"])(ot,rt,at,!1,null,"6e4a9bb9",null)),ut=ct.exports,lt=Object(R["createModule"])("movie-set",{namespaced:!0,state:{selectedMovies:[]},mutations:{setMovies:function(e,t){e.selectedMovies=t}}});lt.register(A);var pt=function(e){Object(_["a"])(n,e);var t=Object(x["a"])(n);function n(){var e;return Object(j["a"])(this,n),e=t.apply(this,arguments),e.api=ve,e}return Object(k["a"])(n,[{key:"lang",get:function(){return $.state.lang}},{key:"movieSet",get:function(){return lt.state.selectedMovies}},{key:"suggest",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,this.api.searchMovie(t,this.lang);case 4:return e.abrupt("return",e.sent.map((function(e){return e.toMovie()})).sort((function(e,t){return t.popularity-e.popularity})));case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"input",value:function(e){}},{key:"onSelect",value:function(e){var t=this.value.find((function(t){return t.id===e.id}));void 0===t&&this.input([].concat(Object(W["a"])(this.value),[e]))}},{key:"onDelete",value:function(e){var t=this.value.find((function(t){return t.id===e.id}));void 0!==t&&this.input(this.value.filter((function(t){return t.id!==e.id})))}},{key:"onClear",value:function(){this.value.length>0&&this.input([])}},{key:"onAppendFromSet",value:function(){var e,t=Object(W["a"])(this.value),n=Object(i["a"])(this.movieSet);try{var r=function(){var n=e.value,r=t.find((function(e){return e.id===n.id}));void 0===r&&t.push(n)};for(n.s();!(e=n.n()).done;)r()}catch(a){n.e(a)}finally{n.f()}this.value.length!==t.length&&this.input(t)}},{key:"onAppendToSet",value:function(){var e,t=Object(W["a"])(this.movieSet),n=Object(i["a"])(this.value);try{var r=function(){var n=e.value,r=t.find((function(e){return e.id===n.id}));void 0===r&&t.push(n)};for(n.s();!(e=n.n()).done;)r()}catch(a){n.e(a)}finally{n.f()}this.movieSet.length!==t.length&&lt.mutations.setMovies(t)}}]),n}(S["d"]);Object(w["a"])([Object(S["c"])()],pt.prototype,"value",void 0),Object(w["a"])([Object(S["c"])()],pt.prototype,"setActions",void 0),Object(w["a"])([Object(S["b"])("input")],pt.prototype,"input",null),pt=Object(w["a"])([Object(S["a"])({components:{ItemSelector:Ae,MovieView:ut}})],pt);var dt=pt,vt=dt,ht=(n("a2eb"),Object(D["a"])(vt,tt,nt,!1,null,"94ca8dd4",null)),ft=ht.exports,mt=function(e){Object(_["a"])(n,e);var t=Object(x["a"])(n);function n(){var e;return Object(j["a"])(this,n),e=t.apply(this,arguments),e.setService=He,e.progress=null,e}return Object(k["a"])(n,[{key:"selectedMovies",get:function(){return lt.state.selectedMovies},set:function(e){lt.mutations.setMovies(e)}},{key:"lang",get:function(){return $.state.lang}},{key:"inProgress",get:function(){return null!==this.progress}},{key:"onImport",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(){var t,n,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.progress=[0,100],t={update:function(e,t){r.progress=[e,t]}},e.next=5,this.setService.importMovieSetFromFile(this.lang,t);case 5:n=e.sent,void 0!==n&&(this.selectedMovies=n);case 7:return e.prev=7,this.progress=null,e.finish(7);case 10:case"end":return e.stop()}}),e,this,[[0,,7,10]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"onExport",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.selectedMovies.length>0&&this.setService.exportMovieSetToFile(this.selectedMovies,"movies.csv");case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(S["d"]);mt=Object(w["a"])([Object(S["a"])({components:{MovieSelector:ft,ModalProgress:K}})],mt);var gt=mt,bt=gt,yt=Object(D["a"])(bt,Ze,et,!1,null,"0a115096",null),Ot=yt.exports,jt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("ActorSelector",{attrs:{setActions:!0},model:{value:e.selectedActors,callback:function(t){e.selectedActors=t},expression:"selectedActors"}}),!e.isSearching&&e.selectedActors.length>0?n("div",[n("div",[n("button",{staticClass:"btn btn-success m-3",attrs:{type:"button"},on:{click:e.startSearch}},[e._v(" "+e._s(e.$t("general.startSearch"))+" ")])]),e.allRecommendations.length>0?n("MovieFilters",{attrs:{genres:e.genres,yearRange:e.yearRange,sortOptions:e.sortOptions},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}):e._e(),e.recommendations.length>0?n("PageableList",{attrs:{items:e.sortedRecommendations,pageSize:e.pageSize,page:e.currentPage},on:{onPageChange:e.onPageChange},scopedSlots:e._u([{key:"default",fn:function(t){return[n("MovieTileView",{staticClass:"mt-3",staticStyle:{width:"500px"},attrs:{movie:t.item[1]}},[n("div",[e._v(" "+e._s(e.$tc("actor.nActors",t.item[0].length))+": "+e._s(t.item[0].map((function(e){return e.name})).slice(0,4).join(", "))+" "),t.item[0].length>4?n("span",[e._v(e._s(e.$t("general.andOthers")))]):e._e()])])]}}],null,!1,3973475049)}):e._e()],1):e._e(),e.isSearching?n("ModalProgress",{attrs:{ready:e.progress[0],total:e.progress[1]}}):e._e()],1)},kt=[],_t=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-6 col-12"},[r("div",{staticClass:"card mx-auto my-2",staticStyle:{"max-width":"40rem"}},[r("div",{staticClass:"card-body"},[r("div",{staticClass:"card-title"},[r("img",{staticClass:"mx-2",staticStyle:{height:"1.8rem"},attrs:{src:n("5ee4")}}),e._v(" "+e._s(e.$t("filter.filters"))+" ")]),r("div",{staticClass:"card-text"},[r("button",{staticClass:"btn btn-outline-danger my-3",class:{active:!e.excludeMoviesFromSet},attrs:{type:"button"},on:{click:function(t){e.excludeMoviesFromSet=!e.excludeMoviesFromSet}}},[e._v(" "+e._s(e.excludeMoviesFromSet?e.$t("movie.showAll"):e.$t("movie.excludeMovies"))+" ")]),r("br"),r("TagSelector",{attrs:{items:e.genres,placeholder:e.$t("filter.chooseGenresToInclude"),toName:e.genreToName},model:{value:e.includedGenres,callback:function(t){e.includedGenres=t},expression:"includedGenres"}}),r("br"),r("TagSelector",{staticClass:"excluded-tags",attrs:{items:e.genres,placeholder:e.$t("filter.chooseGenresToExclude"),toName:e.genreToName},model:{value:e.excludedGenres,callback:function(t){e.excludedGenres=t},expression:"excludedGenres"}}),r("br"),r("YearRangePicker",{attrs:{min:e.yearRange[0],max:e.yearRange[1]},model:{value:e.years,callback:function(t){e.years=t},expression:"years"}})],1)])])]),r("div",{staticClass:"col-md-6 col-12"},[r("div",{staticClass:"card mx-auto my-2",staticStyle:{"max-width":"40rem"}},[r("div",{staticClass:"card-body"},[r("div",{staticClass:"card-title"},[r("img",{staticClass:"mx-2",staticStyle:{height:"1.8rem"},attrs:{src:n("133b")}}),e._v(" "+e._s(e.$t("filter.sort"))+" ")]),r("div",{staticClass:"card-text"},[e._v(" "+e._s(e.$t("filter.sortBy"))+" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.sort,expression:"sort"}],staticClass:"form-control form-control-sm d-inline ml-2",staticStyle:{"max-width":"10rem"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.sort=t.target.multiple?n:n[0]}}},[r("option",{attrs:{value:"",disabled:""}},[e._v(e._s(e.$t("general.chooseOptions")))]),e._l(e.sortOptions,(function(t){return r("option",{key:t.id,domProps:{value:t.id,selected:t.id===e.sort}},[e._v(e._s(e.$t(t.n)))])}))],2)])])])])])},xt=[],wt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("multiselect",{attrs:{customLabel:e.toName,taggable:!0,showLabels:!1,multiple:!0,options:e.items,placeholder:e.placeholder,value:e.value},on:{select:e.onSelect,remove:e.onRemove}})},St=[],Ct=function(e){Object(_["a"])(n,e);var t=Object(x["a"])(n);function n(){return Object(j["a"])(this,n),t.apply(this,arguments)}return Object(k["a"])(n,[{key:"input",value:function(e){}},{key:"onSelect",value:function(e){this.input([].concat(Object(W["a"])(this.value),[e]))}},{key:"onRemove",value:function(e){this.input(this.value.filter((function(t){return t!==e})))}}]),n}(S["d"]);Object(w["a"])([Object(S["c"])()],Ct.prototype,"placeholder",void 0),Object(w["a"])([Object(S["c"])()],Ct.prototype,"items",void 0),Object(w["a"])([Object(S["c"])()],Ct.prototype,"value",void 0),Object(w["a"])([Object(S["c"])()],Ct.prototype,"toName",void 0),Object(w["a"])([Object(S["b"])("input")],Ct.prototype,"input",null),Ct=Object(w["a"])([Object(S["a"])({components:{Multiselect:Se.a}})],Ct);var Mt,Rt=Ct,Pt=Rt,At=Object(D["a"])(Pt,wt,St,!1,null,"7017935d",null),$t=At.exports,Ft=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"text-center"},[n("label",[e._v(e._s(e.$t("filter.year")))]),n("input",{staticClass:"form-control d-inline-block",class:{"is-invalid":!e.isStartValid},staticStyle:{width:"6rem"},attrs:{type:"text",placeholder:e.min.toString()},domProps:{value:e.start},on:{input:e.onStartChange}}),e._v(" - "),n("input",{staticClass:"form-control d-inline-block",class:{"is-invalid":!e.isEndValid},staticStyle:{width:"6rem"},attrs:{type:"text",placeholder:e.max.toString()},domProps:{value:e.end},on:{input:e.onEndChange}})]),e.isStartValid&&e.isEndValid?e._e():n("div",{staticClass:"invalid-feedback d-block"},[e._v(" "+e._s(e.$t("filter.validYearRange",{min:e.min,max:e.max}))+" ")])])},Tt=[],Et=(n("498a"),Mt=function(e){Object(_["a"])(n,e);var t=Object(x["a"])(n);function n(){return Object(j["a"])(this,n),t.apply(this,arguments)}return Object(k["a"])(n,[{key:"created",value:function(){if(null===this.value){var e=[null,null];this.start=e[0],this.end=e[1]}else{var t=[this.value[0]?this.value[0]:null,this.value[1]?this.value[1]:null];this.start=t[0],this.end=t[1]}var n=this.valid(),r=Object(o["a"])(n,2);this.isStartValid=r[0],this.isEndValid=r[1]}},{key:"onStartChange",value:function(e){var t=Mt.normalizeInt(e.target.value);void 0!==t&&(this.start=t,this.onRangeChange()),this.$forceUpdate()}},{key:"onEndChange",value:function(e){var t=Mt.normalizeInt(e.target.value);void 0!==t&&(this.end=t,this.onRangeChange()),this.$forceUpdate()}},{key:"onRangeChange",value:function(){var e=this.valid(),t=Object(o["a"])(e,2);this.isStartValid=t[0],this.isEndValid=t[1],this.isStartValid&&this.isEndValid&&(null===this.start&&null===this.end?this.input(null):this.input([this.start,this.end]))}},{key:"valid",value:function(){var e=this.start,t=this.end,n=null===e||e>=this.min&&e<=this.max,r=null===t||t>=this.min&&t<=this.max,a=null===e||null===t||e<=t;return[n&&a,r&&a]}},{key:"input",value:function(e){}}],[{key:"normalizeInt",value:function(e){return e=e.trim(),""===e?null:/^[0-9]+$/.test(e)?parseInt(e.trim(),10):void 0}}]),n}(S["d"]));Object(w["a"])([Object(S["c"])()],Et.prototype,"value",void 0),Object(w["a"])([Object(S["c"])()],Et.prototype,"min",void 0),Object(w["a"])([Object(S["c"])()],Et.prototype,"max",void 0),Object(w["a"])([Object(S["b"])("input")],Et.prototype,"input",null),Et=Mt=Object(w["a"])([S["a"]],Et);var Dt=Et,Lt=Dt,Nt=Object(D["a"])(Lt,Ft,Tt,!1,null,"0933839d",null),Ut=Nt.exports,Gt=function(e){Object(_["a"])(n,e);var t=Object(x["a"])(n);function n(){return Object(j["a"])(this,n),t.apply(this,arguments)}return Object(k["a"])(n,[{key:"excludeMoviesFromSet",get:function(){return this.value.excludeMoviesFromSet},set:function(e){this.input(Object(c["a"])(Object(c["a"])({},this.value),{},{excludeMoviesFromSet:e}))}},{key:"includedGenres",get:function(){return this.value.includedGenres},set:function(e){this.input(Object(c["a"])(Object(c["a"])({},this.value),{},{includedGenres:e}))}},{key:"excludedGenres",get:function(){return this.value.excludedGenres},set:function(e){this.input(Object(c["a"])(Object(c["a"])({},this.value),{},{excludedGenres:e}))}},{key:"years",get:function(){return this.value.years},set:function(e){this.input(Object(c["a"])(Object(c["a"])({},this.value),{},{years:e}))}},{key:"sort",get:function(){return this.value.sort},set:function(e){this.input(Object(c["a"])(Object(c["a"])({},this.value),{},{sort:e}))}},{key:"genreToName",value:function(e){return e.name}},{key:"input",value:function(e){}}]),n}(S["d"]);Object(w["a"])([Object(S["c"])()],Gt.prototype,"value",void 0),Object(w["a"])([Object(S["c"])()],Gt.prototype,"genres",void 0),Object(w["a"])([Object(S["c"])()],Gt.prototype,"sortOptions",void 0),Object(w["a"])([Object(S["c"])()],Gt.prototype,"yearRange",void 0),Object(w["a"])([Object(S["b"])("input")],Gt.prototype,"input",null),Gt=Object(w["a"])([Object(S["a"])({components:{TagSelector:$t,YearRangePicker:Ut}})],Gt);var It=Gt,Bt=It,Vt=(n("4b22"),Object(D["a"])(Bt,_t,xt,!1,null,null,null)),zt=Vt.exports,qt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card mx-2"},[r("div",[r("a",{attrs:{href:e.getUrl(e.movie.id),target:"_blank"}},[e.movie.poster?r("img",{staticClass:"card-img-top m-auto d-inline-block w-auto",attrs:{src:e.movie.poster,alt:e.movie.title}}):r("img",{staticClass:"card-img-top m-auto d-inline-block w-auto",attrs:{src:n("071f"),alt:e.movie.title}})])]),r("div",{staticClass:"card-body"},[r("h5",{staticClass:"card-title"},[e._v(e._s(e.movie.title))]),e.showDetails?r("p",{staticClass:"card-text"},[e._v(e._s(e.movie.overview))]):r("div",{staticStyle:{cursor:"pointer"},on:{click:function(t){e.showDetails=!0}}},[e._v(" "+e._s(e.$t("general.showDetails"))+" ")]),e.movie.releaseDate?r("div",[e._v(" "+e._s(e.$t("general.year"))+": ("+e._s(e.movie.releaseDate.getFullYear())+") ")]):e._e(),r("div",[e._v(" "+e._s(e.$t("movie.genres"))+": "),e._l(e.movie.genres,(function(t){return r("span",{key:t.id,staticClass:"badge badge-secondary mr-1"},[e._v(e._s(t.name))])}))],2),r("div",[e._v(" "+e._s(e.$t("general.vote"))+": "),r("StarRating",{attrs:{count:10,range:10,score:e.movie.voteAverage}}),e._v(" ("+e._s(e.movie.voteAverage)+") ")],1),r("div",[e._v(" "+e._s(e.$t("general.popularity"))+": "),r("StarRating",{attrs:{count:10,range:50,score:e.movie.popularity}}),e._v(" ("+e._s(e.movie.popularity)+") ")],1),e._t("default"),r("div",{staticClass:"my-2"},[e.isinMovieSet?r("button",{staticClass:"btn btn-outline-danger my-1 mx-auto d-block",attrs:{type:"button"},on:{click:e.removeFromSet}},[e._v(" "+e._s(e.$t("set.remove"))+" ")]):r("button",{staticClass:"btn btn-outline-primary my-1 mx-auto d-block",attrs:{type:"button"},on:{click:e.addToSet}},[e._v(" "+e._s(e.$t("set.add"))+" ")]),r("a",{staticClass:"btn btn-outline-primary my-1",attrs:{href:e.getTrailerUrl(e.movie),target:"_blank"}},[e._v(" "+e._s(e.$t("movie.findTrailer"))+" ")])])],2)])},Yt=[],Ht=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"d-inline",attrs:{title:e.score}},e._l(e.count,(function(t){return r("span",{key:t},[t<=e.checkedStars?r("img",{staticClass:"star",attrs:{src:n("7c96")}}):r("img",{staticClass:"star",attrs:{src:n("42a8")}})])})),0)},Kt=[],Xt=function(e){Object(_["a"])(n,e);var t=Object(x["a"])(n);function n(){return Object(j["a"])(this,n),t.apply(this,arguments)}return Object(k["a"])(n,[{key:"checkedStars",get:function(){return this.score/this.range*this.count}}]),n}(S["d"]);Object(w["a"])([Object(S["c"])()],Xt.prototype,"count",void 0),Object(w["a"])([Object(S["c"])()],Xt.prototype,"range",void 0),Object(w["a"])([Object(S["c"])()],Xt.prototype,"score",void 0),Xt=Object(w["a"])([S["a"]],Xt);var Jt=Xt,Wt=Jt,Qt=(n("7b8b"),Object(D["a"])(Wt,Ht,Kt,!1,null,"d5b3ddd2",null)),Zt=Qt.exports,en=function(e){Object(_["a"])(n,e);var t=Object(x["a"])(n);function n(){var e;return Object(j["a"])(this,n),e=t.apply(this,arguments),e.api=ve,e.showDetails=!1,e}return Object(k["a"])(n,[{key:"lang",get:function(){return $.state.lang}},{key:"movieSet",get:function(){return lt.state.selectedMovies}},{key:"isinMovieSet",get:function(){var e=this,t=this.movieSet.find((function(t){return t.id===e.movie.id}));return void 0!==t}},{key:"addToSet",value:function(){this.isinMovieSet||lt.mutations.setMovies([].concat(Object(W["a"])(this.movieSet),[this.movie]))}},{key:"removeFromSet",value:function(){var e=this;this.isinMovieSet&&lt.mutations.setMovies(this.movieSet.filter((function(t){return t.id!==e.movie.id})))}},{key:"getUrl",value:function(e){return this.api.getMovieUrl(e,this.lang)}},{key:"getTrailerUrl",value:function(e){var t="".concat(e.title," ").concat(this.$t("movie.trailer"));return"https://youtube.com/results?search_query=".concat(encodeURIComponent(t))}}]),n}(S["d"]);Object(w["a"])([Object(S["c"])()],en.prototype,"movie",void 0),en=Object(w["a"])([Object(S["a"])({components:{StarRating:Zt}})],en);var tn=en,nn=tn,rn=(n("9292"),Object(D["a"])(nn,qt,Yt,!1,null,"3aaf3154",null)),an=rn.exports,sn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.items.length>0?n("div",[n("div",{staticClass:"my-2"},[n("Paginator",{staticClass:"d-inline-block m-auto",attrs:{displayCount:5,pageCount:Math.ceil(e.items.length/e.pageSize),currentPage:e.page},on:{onChange:e.onPageChange}})],1),n("div",{staticClass:"d-flex flex-row flex-wrap justify-content-around"},[e._l(e.range(e.rangeStart,e.rangeEnd),(function(t){return e._t("default",null,{item:e.items[t]})}))],2),n("div",{staticClass:"my-2"},[n("Paginator",{staticClass:"d-inline-block m-auto",attrs:{displayCount:5,pageCount:Math.ceil(e.items.length/e.pageSize),currentPage:e.page},on:{onChange:e.onPageChange}})],1)]):e._e()},on=[],cn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",[n("ul",{staticClass:"pagination"},[e.displayCount<e.pageCount?n("li",{staticClass:"page-item",class:{disabled:1===e.currentPage}},[1===e.currentPage?n("span",{staticClass:"page-link"},[e._v(e._s(e.$t("paginator.previous")))]):n("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.onPrev()}}},[e._v(e._s(e.$t("paginator.previous")))])]):e._e(),e._l(e.range(e.rangeStart,e.rangeEnd),(function(t){return n("li",{key:t,staticClass:"page-item",class:{active:e.currentPage===t}},[e.currentPage===t?n("span",{staticClass:"page-link"},[e._v(e._s(t))]):n("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(n){return n.preventDefault(),e.onChange(t)}}},[e._v(e._s(t))])])})),e.displayCount<e.pageCount?n("li",{staticClass:"page-item",class:{disabled:e.currentPage===e.pageCount}},[e.currentPage===e.pageCount?n("span",{staticClass:"page-link"},[e._v(e._s(e.$t("paginator.next")))]):n("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.onNext()}}},[e._v(e._s(e.$t("paginator.next")))])]):e._e()],2)])},un=[],ln=(n("b65f"),function(e){Object(_["a"])(n,e);var t=Object(x["a"])(n);function n(){return Object(j["a"])(this,n),t.apply(this,arguments)}return Object(k["a"])(n,[{key:"range",value:function(e,t){for(var n=[],r=e;r<=t;r++)n.push(r);return n}},{key:"rangeStart",get:function(){var e=this.displayCount/2,t=Math.trunc(e),n=Math.max(this.currentPage-t,1),r=Math.max(this.pageCount-this.displayCount+1,1);return Math.min(n,r)}},{key:"rangeEnd",get:function(){return this.rangeStart+Math.min(this.displayCount,this.pageCount)-1}},{key:"onPrev",value:function(){this.currentPage>1&&this.$emit("onChange",this.currentPage-1)}},{key:"onNext",value:function(){this.currentPage<this.pageCount&&this.$emit("onChange",this.currentPage+1)}},{key:"onChange",value:function(e){this.currentPage!==e&&this.$emit("onChange",e)}}]),n}(S["d"]));Object(w["a"])([Object(S["c"])()],ln.prototype,"displayCount",void 0),Object(w["a"])([Object(S["c"])()],ln.prototype,"pageCount",void 0),Object(w["a"])([Object(S["c"])()],ln.prototype,"currentPage",void 0),ln=Object(w["a"])([S["a"]],ln);var pn=ln,dn=pn,vn=Object(D["a"])(dn,cn,un,!1,null,"3301fa54",null),hn=vn.exports,fn=function(e){Object(_["a"])(n,e);var t=Object(x["a"])(n);function n(){return Object(j["a"])(this,n),t.apply(this,arguments)}return Object(k["a"])(n,[{key:"onPageChange",value:function(e){}},{key:"rangeStart",get:function(){return this.pageSize*(this.page-1)}},{key:"rangeEnd",get:function(){return Math.min(this.items.length,this.pageSize*this.page)-1}},{key:"range",value:function(e,t){for(var n=[],r=e;r<=t;r++)n.push(r);return n}}]),n}(S["d"]);Object(w["a"])([Object(S["c"])()],fn.prototype,"items",void 0),Object(w["a"])([Object(S["c"])()],fn.prototype,"pageSize",void 0),Object(w["a"])([Object(S["c"])()],fn.prototype,"page",void 0),Object(w["a"])([Object(S["b"])("onPageChange")],fn.prototype,"onPageChange",null),fn=Object(w["a"])([Object(S["a"])({components:{Paginator:hn}})],fn);var mn=fn,gn=mn,bn=Object(D["a"])(gn,sn,on,!1,null,"147ff79e",null),yn=bn.exports,On=regeneratorRuntime.mark(jn);function jn(e,t){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(e.length===t.length){r.next=2;break}throw new Error("Arrays must have same length");case 2:n=0;case 3:if(!(n<e.length)){r.next=9;break}return r.next=6,[e[n],t[n]];case 6:++n,r.next=3;break;case 9:case"end":return r.stop()}}),On)}var kn=function(){function e(){Object(j["a"])(this,e),this.api=ve}return Object(k["a"])(e,[{key:"recommendMoviesByMovies",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,i,s,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=function(e){return o.api.getRecommendations(e.id,n)},e.next=3,this.recommend(Object(W["a"])(t),a,(function(e){return e.id}),r);case 3:return i=e.sent,s=new Set(Object(W["a"])(t).map((function(e){return e.id}))),e.abrupt("return",i.filter((function(e){return!s.has(e[1].id)})).map((function(e){return[e[0],e[1].toMovie()]})));case 6:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"recommendMoviesByActors",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,i,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=function(e){return s.api.searchMoviesByPerson(e.id,n)},e.next=3,this.recommend(Object(W["a"])(t),a,(function(e){return e.id}),r);case 3:return i=e.sent,e.abrupt("return",i.map((function(e){return[e[0],e[1].toMovie()]})));case 5:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"recommendActorsByMovies",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,i,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=function(e){return s.api.searchPersonsByMovie(e.id,n)},e.next=3,this.recommend(Object(W["a"])(t),a,(function(e){return e.id}),r);case 3:return i=e.sent,e.abrupt("return",i.map((function(e){return[e[0],e[1].toPerson()]})));case 5:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"recommend",value:function(){var t=Object(I["a"])(regeneratorRuntime.mark((function t(n,r,a,s){var c,u,l,p,d,v,h,f,m,g,b,y,O,j,k,_,x,w,S,C;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:c=n.map((function(e){return function(){return r(e)}})),u=c.length,s.update(0,u),l=[],p=!1,d=!1,t.prev=6,h=Object(Le["a"])(ae(c,e.MAX_ACTIONS));case 8:return t.next=10,h.next();case 10:if(!(p=!(f=t.sent).done)){t.next=17;break}m=f.value,l.push.apply(l,Object(W["a"])(m)),s.update(l.length,u);case 14:p=!1,t.next=8;break;case 17:t.next=23;break;case 19:t.prev=19,t.t0=t["catch"](6),d=!0,v=t.t0;case 23:if(t.prev=23,t.prev=24,!p||null==h.return){t.next=28;break}return t.next=28,h.return();case 28:if(t.prev=28,!d){t.next=31;break}throw v;case 31:return t.finish(28);case 32:return t.finish(23);case 33:g=new Map,b=Object(i["a"])(jn(l,n));try{for(b.s();!(y=b.n()).done;){O=Object(o["a"])(y.value,2),j=O[0],k=O[1],_=Object(i["a"])(j);try{for(_.s();!(x=_.n()).done;)w=x.value,S=a(w),C=g.get(S),C?C[0].push(k):g.set(S,[[k],w])}catch(M){_.e(M)}finally{_.f()}}}catch(M){b.e(M)}finally{b.f()}return t.abrupt("return",Object(W["a"])(g.values()));case 37:case"end":return t.stop()}}),t,null,[[6,19,23,33],[24,,28,32]])})));function n(e,n,r,a){return t.apply(this,arguments)}return n}()}]),e}();kn.MAX_ACTIONS=5;var _n=new kn,xn=Object(R["createModule"])("movies-by-actors",{namespaced:!0,state:{selectedActors:[],movies:[]},mutations:{setActors:function(e,t){e.selectedActors=t},recommend:function(e,t){e.movies=t}}});xn.register(A);n("1276"),n("8a79");function wn(e,t,n){return e===t?0:void 0!==e&&void 0===t||null!==e&&null===t||e>t?n:-1*n}function Sn(e,t){var n=t.split("."),r=e;return n.every((function(e){return void 0!==r&&null!==r&&(r=r[e],!0)})),r}function Cn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.length?e.sort((function(e,t){for(var r=0,a=0;0===r&&a<n.length;++a){var i=n[a].endsWith(":desc")?-1:1,s=n[a].replace(/:desc$/i,"").replace(/:asc$/i,""),o=Sn(e,s),c=Sn(t,s);r=wn(o,c,i)}return r})):e}var Mn=function(e){Object(_["a"])(n,e);var t=Object(x["a"])(n);function n(){var e;return Object(j["a"])(this,n),e=t.apply(this,arguments),e.recommender=_n,e.progress=null,e.pageSize=9,e.currentPage=1,e.sortOptions=[{id:"popularity",n:"general.popularity"},{id:"voteAverage",n:"general.vote"}],e.filter={excludeMoviesFromSet:!1,includedGenres:[],excludedGenres:[],years:null,sort:e.sortOptions[0].id},e}return Object(k["a"])(n,[{key:"selectedActors",get:function(){return xn.state.selectedActors},set:function(e){xn.mutations.setActors(e)}},{key:"allRecommendations",get:function(){return xn.state.movies},set:function(e){xn.mutations.recommend(e),this.currentPage=1,this.resetFilter()}},{key:"recommendations",get:function(){var e=this.allRecommendations;if(0===e.length)return e;if(this.filter.excludeMoviesFromSet&&this.movieSet.length>0){var t=new Set(this.movieSet.map((function(e){return e.id})));e=e.filter((function(e){return!t.has(e[1].id)}))}if(this.filter.includedGenres.length>0){var n=new Set(this.filter.includedGenres.map((function(e){return e.id})));e=e.filter((function(e){return e[1].genres.some((function(e){return n.has(e.id)}))}))}if(this.filter.excludedGenres.length>0){var r=new Set(this.filter.excludedGenres.map((function(e){return e.id})));e=e.filter((function(e){return e[1].genres.every((function(e){return!r.has(e.id)}))}))}if(null!==this.filter.years){var a=Object(o["a"])(this.filter.years,2),i=a[0],s=a[1],c=function(e){return(null===i||e.getFullYear()>=i)&&(null===s||e.getFullYear()<=s)};e=e.filter((function(e){return!e[1].releaseDate||c(e[1].releaseDate)}))}return e}},{key:"sortedRecommendations",get:function(){return Cn(Object(W["a"])(this.recommendations),"0.length:desc","1.".concat(this.filter.sort,":desc"))}},{key:"genres",get:function(){var e,t=new Map,n=Object(i["a"])(this.allRecommendations);try{for(n.s();!(e=n.n()).done;){var r,a=e.value,s=Object(i["a"])(a[1].genres);try{for(s.s();!(r=s.n()).done;){var o=r.value;t.set(o.id,o)}}catch(c){s.e(c)}finally{s.f()}}}catch(c){n.e(c)}finally{n.f()}return Object(W["a"])(t.values()).sort((function(e,t){return e.name.localeCompare(t.name)}))}},{key:"yearRange",get:function(){var e,t=1400,n=9e3,r=Object(i["a"])(this.allRecommendations);try{for(r.s();!(e=r.n()).done;){var a,s=e.value,o=null===(a=s[1].releaseDate)||void 0===a?void 0:a.getFullYear();void 0!==o&&(t=o>t?o:t,n=o<n?o:n)}}catch(c){r.e(c)}finally{r.f()}return[n,t]}},{key:"lang",get:function(){return $.state.lang}},{key:"movieSet",get:function(){return lt.state.selectedMovies}},{key:"isSearching",get:function(){return null!==this.progress}},{key:"onPageChange",value:function(e){this.currentPage=e}},{key:"startSearch",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.isSearching){e.next=10;break}return e.prev=1,this.progress=[0,100],t={update:function(e,t){n.progress=[e,t]}},e.next=6,this.recommender.recommendMoviesByActors(new Set(this.selectedActors),this.lang,t);case 6:this.allRecommendations=e.sent;case 7:return e.prev=7,this.progress=null,e.finish(7);case 10:case"end":return e.stop()}}),e,this,[[1,,7,10]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"resetFilter",value:function(){this.filter.excludeMoviesFromSet=!1,this.filter.includedGenres=[],this.filter.excludedGenres=[],this.filter.years=null}}]),n}(S["d"]);Mn=Object(w["a"])([Object(S["a"])({components:{ActorSelector:De,MovieTileView:an,PageableList:yn,MovieFilters:zt,ModalProgress:K}})],Mn);var Rn=Mn,Pn=Rn,An=Object(D["a"])(Pn,jt,kt,!1,null,"ab93ce2c",null),$n=An.exports,Fn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("MovieSelector",{attrs:{setActions:!0},model:{value:e.selectedMovies,callback:function(t){e.selectedMovies=t},expression:"selectedMovies"}}),!e.isSearching&&e.selectedMovies.length>0?n("div",[n("div",[n("button",{staticClass:"btn btn-success m-3",attrs:{type:"button"},on:{click:e.startSearch}},[e._v(" "+e._s(e.$t("general.startSearch"))+" ")])]),e.allRecommendations.length>0?n("MovieFilters",{attrs:{genres:e.genres,yearRange:e.yearRange,sortOptions:e.sortOptions},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}):e._e(),e.recommendations.length>0?n("PageableList",{attrs:{items:e.sortedRecommendations,pageSize:e.pageSize,page:e.currentPage},on:{onPageChange:e.onPageChange},scopedSlots:e._u([{key:"default",fn:function(t){return[n("MovieTileView",{staticClass:"mt-3",staticStyle:{width:"500px"},attrs:{movie:t.item[1]}},[n("div",[e._v(" "+e._s(e.$t("general.recommended"))+" "+e._s(e.$tc("general.nTimes",t.item[0].length))+" ")])])]}}],null,!1,4157272002)}):e._e()],1):e._e(),e.isSearching?n("ModalProgress",{attrs:{ready:e.progress[0],total:e.progress[1]}}):e._e()],1)},Tn=[],En=Object(R["createModule"])("movies-by-movies",{namespaced:!0,state:{selectedMovies:[],movies:[]},mutations:{setMovies:function(e,t){e.selectedMovies=t},recommend:function(e,t){e.movies=t}}});En.register(A);var Dn=function(e){Object(_["a"])(n,e);var t=Object(x["a"])(n);function n(){var e;return Object(j["a"])(this,n),e=t.apply(this,arguments),e.recommender=_n,e.progress=null,e.pageSize=9,e.currentPage=1,e.sortOptions=[{id:"popularity",n:"general.popularity"},{id:"voteAverage",n:"general.vote"}],e.filter={excludeMoviesFromSet:!1,includedGenres:[],excludedGenres:[],years:null,sort:e.sortOptions[0].id},e}return Object(k["a"])(n,[{key:"selectedMovies",get:function(){return En.state.selectedMovies},set:function(e){En.mutations.setMovies(e)}},{key:"allRecommendations",get:function(){return En.state.movies},set:function(e){En.mutations.recommend(e),this.currentPage=1,this.resetFilter()}},{key:"recommendations",get:function(){var e=this.allRecommendations;if(0===e.length)return e;if(this.filter.excludeMoviesFromSet&&this.movieSet.length>0){var t=new Set(this.movieSet.map((function(e){return e.id})));e=e.filter((function(e){return!t.has(e[1].id)}))}if(this.filter.includedGenres.length>0){var n=new Set(this.filter.includedGenres.map((function(e){return e.id})));e=e.filter((function(e){return e[1].genres.some((function(e){return n.has(e.id)}))}))}if(this.filter.excludedGenres.length>0){var r=new Set(this.filter.excludedGenres.map((function(e){return e.id})));e=e.filter((function(e){return e[1].genres.every((function(e){return!r.has(e.id)}))}))}if(null!==this.filter.years){var a=Object(o["a"])(this.filter.years,2),i=a[0],s=a[1],c=function(e){return(null===i||e.getFullYear()>=i)&&(null===s||e.getFullYear()<=s)};e=e.filter((function(e){return!e[1].releaseDate||c(e[1].releaseDate)}))}return e}},{key:"sortedRecommendations",get:function(){return Cn(Object(W["a"])(this.recommendations),"0.length:desc","1.".concat(this.filter.sort,":desc"))}},{key:"genres",get:function(){var e,t=new Map,n=Object(i["a"])(this.allRecommendations);try{for(n.s();!(e=n.n()).done;){var r,a=e.value,s=Object(i["a"])(a[1].genres);try{for(s.s();!(r=s.n()).done;){var o=r.value;t.set(o.id,o)}}catch(c){s.e(c)}finally{s.f()}}}catch(c){n.e(c)}finally{n.f()}return Object(W["a"])(t.values()).sort((function(e,t){return e.name.localeCompare(t.name)}))}},{key:"yearRange",get:function(){var e,t=1400,n=9e3,r=Object(i["a"])(this.allRecommendations);try{for(r.s();!(e=r.n()).done;){var a,s=e.value,o=null===(a=s[1].releaseDate)||void 0===a?void 0:a.getFullYear();void 0!==o&&(t=o>t?o:t,n=o<n?o:n)}}catch(c){r.e(c)}finally{r.f()}return[n,t]}},{key:"lang",get:function(){return $.state.lang}},{key:"movieSet",get:function(){return lt.state.selectedMovies}},{key:"isSearching",get:function(){return null!==this.progress}},{key:"onPageChange",value:function(e){this.currentPage=e}},{key:"startSearch",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.isSearching){e.next=10;break}return e.prev=1,this.progress=[0,100],t={update:function(e,t){n.progress=[e,t]}},e.next=6,this.recommender.recommendMoviesByMovies(new Set(this.selectedMovies),this.lang,t);case 6:this.allRecommendations=e.sent;case 7:return e.prev=7,this.progress=null,e.finish(7);case 10:case"end":return e.stop()}}),e,this,[[1,,7,10]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"resetFilter",value:function(){this.filter.excludeMoviesFromSet=!1,this.filter.includedGenres=[],this.filter.excludedGenres=[],this.filter.years=null}}]),n}(S["d"]);Dn=Object(w["a"])([Object(S["a"])({components:{MovieSelector:ft,MovieTileView:an,PageableList:yn,MovieFilters:zt,ModalProgress:K}})],Dn);var Ln=Dn,Nn=Ln,Un=(n("4454"),Object(D["a"])(Nn,Fn,Tn,!1,null,"7496031a",null)),Gn=Un.exports,In=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("MovieSelector",{attrs:{setActions:!0},model:{value:e.selectedMovies,callback:function(t){e.selectedMovies=t},expression:"selectedMovies"}}),!e.isSearching&&e.selectedMovies.length>0?n("div",[n("div",[n("button",{staticClass:"btn btn-success m-3",attrs:{type:"button"},on:{click:e.startSearch}},[e._v(" "+e._s(e.$t("general.startSearch"))+" ")])]),e.allRecommendations.length>0?n("ActorFilters",{attrs:{sortOptions:e.sortOptions},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}):e._e(),e.recommendations.length>0?n("PageableList",{attrs:{items:e.sortedRecommendations,pageSize:e.pageSize,page:e.currentPage},on:{onPageChange:e.onPageChange},scopedSlots:e._u([{key:"default",fn:function(t){return[n("PersonTileView",{staticClass:"mt-3",staticStyle:{width:"500px"},attrs:{actor:t.item[1]}},[n("div",[e._v(" "+e._s(e.$t("general.recommended"))+" "+e._s(e.$tc("general.nTimes",t.item[0].length))+" ")])])]}}],null,!1,1195532988)}):e._e()],1):e._e(),e.isSearching?n("ModalProgress",{attrs:{ready:e.progress[0],total:e.progress[1]}}):e._e()],1)},Bn=[],Vn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-6 col-12"},[r("div",{staticClass:"card mx-auto my-2",staticStyle:{"max-width":"40rem"}},[r("div",{staticClass:"card-body"},[r("div",{staticClass:"card-title"},[r("img",{staticClass:"mx-2",staticStyle:{height:"1.8rem"},attrs:{src:n("5ee4")}}),e._v(" "+e._s(e.$t("filter.filters"))+" ")]),r("div",{staticClass:"card-text"},[r("button",{staticClass:"btn btn-outline-danger my-3",class:{active:!e.excludeActorsFromSet},attrs:{type:"button"},on:{click:function(t){e.excludeActorsFromSet=!e.excludeActorsFromSet}}},[e._v(" "+e._s(e.excludeActorsFromSet?e.$t("actor.showAll"):e.$t("actor.excludeMovies"))+" ")])])])])]),r("div",{staticClass:"col-md-6 col-12"},[r("div",{staticClass:"card mx-auto my-2",staticStyle:{"max-width":"40rem"}},[r("div",{staticClass:"card-body"},[r("div",{staticClass:"card-title"},[r("img",{staticClass:"mx-2",staticStyle:{height:"1.8rem"},attrs:{src:n("133b")}}),e._v(" "+e._s(e.$t("filter.sort"))+" ")]),r("div",{staticClass:"card-text"},[e._v(" "+e._s(e.$t("filter.sortBy"))+" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.sort,expression:"sort"}],staticClass:"form-control form-control-sm d-inline ml-2",staticStyle:{"max-width":"10rem"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.sort=t.target.multiple?n:n[0]}}},[r("option",{attrs:{value:"",disabled:""}},[e._v(e._s(e.$t("general.chooseOptions")))]),e._l(e.sortOptions,(function(t){return r("option",{key:t.id,domProps:{value:t.id,selected:t.id===e.sort}},[e._v(e._s(e.$t(t.n)))])}))],2)])])])])])},zn=[],qn=function(e){Object(_["a"])(n,e);var t=Object(x["a"])(n);function n(){return Object(j["a"])(this,n),t.apply(this,arguments)}return Object(k["a"])(n,[{key:"excludeActorsFromSet",get:function(){return this.value.excludeActorsFromSet},set:function(e){this.input(Object(c["a"])(Object(c["a"])({},this.value),{},{excludeActorsFromSet:e}))}},{key:"sort",get:function(){return this.value.sort},set:function(e){this.input(Object(c["a"])(Object(c["a"])({},this.value),{},{sort:e}))}},{key:"input",value:function(e){}}]),n}(S["d"]);Object(w["a"])([Object(S["c"])()],qn.prototype,"value",void 0),Object(w["a"])([Object(S["c"])()],qn.prototype,"sortOptions",void 0),Object(w["a"])([Object(S["b"])("input")],qn.prototype,"input",null),qn=Object(w["a"])([S["a"]],qn);var Yn=qn,Hn=Yn,Kn=Object(D["a"])(Hn,Vn,zn,!1,null,"130487e0",null),Xn=Kn.exports,Jn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card mx-2"},[r("div",[r("a",{attrs:{href:e.getUrl(e.actor.id),target:"_blank"}},[e.actor.poster?r("img",{staticClass:"card-img-top m-auto d-inline-block w-auto",attrs:{src:e.actor.poster,alt:e.actor.title}}):r("img",{staticClass:"card-img-top m-auto d-inline-block w-auto",attrs:{src:n("fa1d"),alt:e.actor.title}})])]),r("div",{staticClass:"card-body"},[r("h5",{staticClass:"card-title"},[e._v(e._s(e.actor.name))]),r("div",[e._v(" "+e._s(e.$t("general.popularity"))+": "),r("StarRating",{attrs:{count:10,range:50,score:e.actor.popularity}}),e._v(" ("+e._s(e.actor.popularity)+") ")],1),e._t("default"),r("div",{staticClass:"my-2"},[e.isinActorSet?r("button",{staticClass:"btn btn-outline-danger my-1 mx-auto d-block",attrs:{type:"button"},on:{click:e.removeFromSet}},[e._v(" "+e._s(e.$t("set.remove"))+" ")]):r("button",{staticClass:"btn btn-outline-primary my-1 mx-auto d-block",attrs:{type:"button"},on:{click:e.addToSet}},[e._v(" "+e._s(e.$t("set.add"))+" ")])])],2)])},Wn=[],Qn=function(e){Object(_["a"])(n,e);var t=Object(x["a"])(n);function n(){var e;return Object(j["a"])(this,n),e=t.apply(this,arguments),e.api=ve,e}return Object(k["a"])(n,[{key:"lang",get:function(){return $.state.lang}},{key:"actorSet",get:function(){return je.state.selectedActors}},{key:"isinActorSet",get:function(){var e=this,t=this.actorSet.find((function(t){return t.id===e.actor.id}));return void 0!==t}},{key:"addToSet",value:function(){this.isinActorSet||je.mutations.setActors([].concat(Object(W["a"])(this.actorSet),[this.actor]))}},{key:"removeFromSet",value:function(){var e=this;this.isinActorSet&&je.mutations.setActors(this.actorSet.filter((function(t){return t.id!==e.actor.id})))}},{key:"getUrl",value:function(e){return this.api.getPersonUrl(e,this.lang)}}]),n}(S["d"]);Object(w["a"])([Object(S["c"])()],Qn.prototype,"actor",void 0),Qn=Object(w["a"])([Object(S["a"])({components:{StarRating:Zt}})],Qn);var Zn=Qn,er=Zn,tr=(n("07cb"),Object(D["a"])(er,Jn,Wn,!1,null,"09a4569a",null)),nr=tr.exports,rr=Object(R["createModule"])("actors-by-movies",{namespaced:!0,state:{selectedMovies:[],actors:[]},mutations:{setMovies:function(e,t){e.selectedMovies=t},recommend:function(e,t){e.actors=t}}});rr.register(A);var ar=function(e){Object(_["a"])(n,e);var t=Object(x["a"])(n);function n(){var e;return Object(j["a"])(this,n),e=t.apply(this,arguments),e.recommender=_n,e.progress=null,e.pageSize=9,e.currentPage=1,e.sortOptions=[{id:"popularity",n:"general.popularity"}],e.filter={excludeActorsFromSet:!1,sort:e.sortOptions[0].id},e}return Object(k["a"])(n,[{key:"selectedMovies",get:function(){return rr.state.selectedMovies},set:function(e){rr.mutations.setMovies(e)}},{key:"allRecommendations",get:function(){return rr.state.actors},set:function(e){rr.mutations.recommend(e),this.currentPage=1,this.resetFilter()}},{key:"recommendations",get:function(){var e=this.allRecommendations;if(0===e.length)return e;if(this.filter.excludeActorsFromSet&&this.actorSet.length>0){var t=new Set(this.actorSet.map((function(e){return e.id})));e=e.filter((function(e){return!t.has(e[1].id)}))}return e}},{key:"sortedRecommendations",get:function(){return Cn(Object(W["a"])(this.recommendations),"0.length:desc","1.".concat(this.filter.sort,":desc"))}},{key:"lang",get:function(){return $.state.lang}},{key:"actorSet",get:function(){return je.state.selectedActors}},{key:"isSearching",get:function(){return null!==this.progress}},{key:"onPageChange",value:function(e){this.currentPage=e}},{key:"startSearch",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.isSearching){e.next=10;break}return e.prev=1,this.progress=[0,100],t={update:function(e,t){n.progress=[e,t]}},e.next=6,this.recommender.recommendActorsByMovies(new Set(this.selectedMovies),this.lang,t);case 6:this.allRecommendations=e.sent;case 7:return e.prev=7,this.progress=null,e.finish(7);case 10:case"end":return e.stop()}}),e,this,[[1,,7,10]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"resetFilter",value:function(){this.filter.excludeActorsFromSet=!1}}]),n}(S["d"]);ar=Object(w["a"])([Object(S["a"])({components:{MovieSelector:ft,PersonTileView:nr,PageableList:yn,ActorFilters:Xn,ModalProgress:K}})],ar);var ir=ar,sr=ir,or=(n("22ee"),Object(D["a"])(sr,In,Bn,!1,null,"da71aee6",null)),cr=or.exports,ur=function(e){Object(_["a"])(n,e);var t=Object(x["a"])(n);function n(){var e;return Object(j["a"])(this,n),e=t.apply(this,arguments),e.pages=[{name:"pages.searchByActors",component:$n},{name:"pages.searchByMovies",component:Gn},{name:"pages.searchActorsByMovies",component:cr},{name:"pages.actorSet",component:Qe},{name:"pages.movieSet",component:Ot}],e.currentPage=e.pages[0],e.siteName="siteName",e}return Object(k["a"])(n,[{key:"navigate",value:function(e){var t=this.pages.find((function(t){return t.name===e}));void 0!==t&&(this.currentPage=t)}}]),n}(S["d"]);ur=Object(w["a"])([Object(S["a"])({components:{SearchByMoviePage:Gn,NavBar:N,SearchByActorPage:$n,MovieSetPage:Ot,ActorSetPage:Qe,SearchActorsByMoviePage:cr}})],ur);var lr=ur,pr=lr,dr=(n("034f"),Object(D["a"])(pr,y,O,!1,null,null,null)),vr=dr.exports;n("ab8b");a["a"].config.productionTip=!1,new a["a"]({i18n:b,render:function(e){return e(vr)}}).$mount("#app")},e03a:function(e,t,n){"use strict";n("8e8a")},f702:function(e,t,n){"use strict";n("515c")},fa1d:function(e,t,n){e.exports=n.p+"img/no-person.a9b49387.svg"}});